<!DOCTYPE html>

<html lang="en">


<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>IELTSwithJurabek</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --passage-bg: #f8f9fa;
            --questions-bg: #ffffff;
            --border-color: #0088CC;
            --highlight-color: springgreen;
            /* Changed highlight color */

            /* New Header & Social Colors */
            --header-bg: #F8F8F8;
            /* Very light gray for header background */
            --header-text: #333333;
            /* Dark text for light header */
            --telegram-blue: #0088CC;
            --instagram-pink: #E4405F;
            --youtube-red: #FF0000;

            /* Button Colors (Red themed) */
            --button-bg: #28a745;
            /* Primary button red */
            --button-hover: #28a745;
            /* Darker red on hover */

            --correct-color: #28a745;
            /* Standard green */
            --incorrect-color: #dc3545;
            /* Standard red */
            --progress-complete: #28a745;
            --progress-incomplete: #bdbdbd;

            /* Timer Colors (Red themed) */
            --timer-bg: #0088CC;
            /* Very light red/pink */
            --timer-text: #ffffff;
            /* Darker red */

            --footer-bg: #f5f5f5;
        }

        .night-mode {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --passage-bg: #1e1e1e;
            --questions-bg: #1e1e1e;
            --border-color: #0088CC;
            --highlight-color: #2E8B57;
            /* Darker springgreen for night mode */

            /* Night Mode Header & Social Colors */
            --header-bg: #1a1a1a;
            /* Dark gray for header background */
            --header-text: #ffffff;
            /* White text for dark header */
            --telegram-blue: #005f99;
            /* Darker telegram blue */
            --instagram-pink: #b2334b;
            /* Darker instagram pink */
            --youtube-red: #b20000;
            /* Darker YouTube red */

            /* Night Mode Button Colors */
            --button-bg: #28a745;
            /* Darker primary button red */
            --button-hover: #28a745;
            /* Even darker red on hover */

            --correct-color: #218838;
            /* Darker green */
            --incorrect-color: #c82333;
            /* Darker red */
            --progress-complete: #218838;
            --progress-incomplete: #616161;

            /* Night Mode Timer Colors */
            --timer-bg: #0088CC;
            /* Dark red */
            --timer-text: #ffffff;
            /* Lighter red */

            --footer-bg: #121212;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.3s, color 0.3s;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        header {
            background-color: var(--header-bg);
            color: var(--header-text);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 15px;
            /* Space between social links */
        }

        .social-link {
            display: flex;
            align-items: center;
            gap: 8px;
            /* Space between icon and text */
            color: white;
            /* Text color is always white for social links */
            padding: 8px 15px;
            border-radius: 50px;
            /* Pill shape */
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .social-link:hover {
            transform: translateY(-1px);
        }

        .social-link i {
            font-size: 1.2em;
            /* Makes icon slightly larger than text */
        }

        /* Specific styling for social links */
        .social-link.telegram {
            background-color: var(--telegram-blue);
        }

        .social-link.telegram:hover {
            background-color: #007bb5;
            /* Slightly darker */
        }

        .social-link.instagram {
            background-color: var(--instagram-pink);
        }

        .social-link.instagram:hover {
            background-color: #d62976;
            /* Slightly darker */
        }

        .social-link.youtube {
            background-color: var(--youtube-red);
        }

        .social-link.youtube:hover {
            background-color: #CC0000;
            /* Slightly darker */
        }


        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .timer-container {
            background-color: var(--timer-bg);
            color: var(--timer-text);
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .timer-controls {
            display: flex;
            gap: 8px;
        }

        .timer-controls button {
            background: none;
            border: none;
            color: var(--timer-text);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timer-controls button:hover {
            background-color: rgba(0, 0, 0, 0.1);
            /* Darker hover for light timer */
        }

        .night-mode .timer-controls button:hover {
            background-color: rgba(255, 255, 255, 0.2);
            /* Lighter hover for dark timer */
        }

        .mode-toggle {
            background: none;
            border: none;
            color: var(--header-text);
            cursor: pointer;
            font-size: 20px;
            padding: 6px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle:hover {
            background-color: rgba(0, 0, 0, 0.1);
            /* Darker hover for light header */
        }

        .night-mode .mode-toggle:hover {
            background-color: rgba(255, 255, 255, 0.2);
            /* Lighter hover for dark header */
        }

        main {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .passage-container,
        .questions-container {
            height: 100%;
            overflow-y: auto;
            padding: 20px;
        }

        .passage-container {
            width: 50%;
            background-color: var(--passage-bg);
            border-right: 1px solid var(--border-color);
            position: relative;
        }

        .questions-container {
            width: 50%;
            background-color: var(--questions-bg);
        }

        .passage-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-color);
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }

        .passage-text {
            font-size: 17px;
        }

        .question-text {
            font-size: 17px;
            line-height: 1.8;
            /* Increased line-height for fill-in-the-blank */
        }

        .passage-text p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .highlight {
            background-color: var(--highlight-color);
            cursor: pointer;
        }

        .highlight-tooltip {
            position: absolute;
            background-color: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1000;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px;
            color: var(--text-color);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--passage-bg);
            border-left: 4px solid var(--border-color);
        }

        .question-title {
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: baseline;
            /* Align baselines of number and text */
        }

        .question-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background-color: var(--progress-incomplete);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 28px;
            margin-right: 10px;
            font-size: 14px;
            flex-shrink: 0;
        }

        .question.answered .question-number {
            background-color: var(--progress-complete);
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .option input {
            margin-right: 8px;
        }

        /* Styling for the new inline input fields */
        .fill-in-the-blank {
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--text-color);
            width: 150px;
            font-family: inherit;
            font-size: 1em;
            /* Inherit font size from parent */
            color: inherit;
            padding: 0 4px 2px 4px;
            /* Add some padding */
            margin: 0 3px;
            /* Add some margin */
            vertical-align: baseline;
            /* Align with the text */
            text-align: center;
            outline: none;
            transition: border-color 0.3s;
        }

        .fill-in-the-blank:focus {
            border-bottom-color: var(--button-bg);
        }


        .instructions {
            font-size: 14px;
            color: #757575;
            margin-top: 5px;
            font-style: italic;
        }

        footer {
            background-color: var(--footer-bg);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05);
        }

        .progress-container {
            display: flex;
            gap: 8px;
        }

        .progress-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--progress-incomplete);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .progress-item:hover {
            transform: scale(1.1);
        }

        .progress-item.completed {
            background-color: var(--progress-complete);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .btn-primary {
            background-color: var(--button-bg);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--button-hover);
        }

        .btn-secondary {
            background-color: transparent;
            border: 1px solid var(--button-bg);
            /* Use primary button color for border */
            color: var(--button-bg);
            /* Use primary button color for text */
        }

        .btn-secondary:hover {
            background-color: rgba(204, 0, 0, 0.1);
            /* Light red tint on hover */
        }

        .night-mode .btn-secondary:hover {
            background-color: rgba(153, 0, 0, 0.2);
            /* Darker red tint on hover for night mode */
        }


        .feedback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            display: none;
            /* Hidden by default */
            justify-content: center;
            align-items: center;
        }

        .feedback-container {
            background-color: var(--passage-bg);
            width: 90%;
            max-width: 900px;
            height: 90%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .feedback-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .feedback-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #close-feedback {
            font-size: 24px;
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
        }

        .score-display {
            font-size: 24px;
            font-weight: 700;
            margin-left: 10px;
        }

        .feedback-body {
            padding: 20px;
            overflow-y: auto;
        }

        .feedback-item {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 8px;
            background-color: var(--questions-bg);
        }

        .feedback-question {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .feedback-answer {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .correct {
            color: var(--correct-color);
        }

        .incorrect {
            color: var(--incorrect-color);
        }

        .feedback-explanation {
            margin-top: 10px;
            padding: 10px;
            border-left: 3px solid var(--button-bg);
            /* Use primary button color for explanation border */
            background-color: rgba(0, 0, 0, 0.03);
        }

        .feedback-passage {
            margin-top: 8px;
            font-style: italic;
            color: #757575;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            main {
                flex-direction: column;
            }

            .passage-container,
            .questions-container {
                width: 100%;
                height: 50%;
            }

            .passage-container {
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .progress-container {
                flex-wrap: wrap;
                max-width: 60%;
            }
        }

        @media (max-width: 768px) {
            .logo-area {
                flex-wrap: wrap;
                /* Allow items to wrap to the next line */
                justify-content: center;
                /* Center items when wrapped */
                gap: 8px;
                /* Adjusted gap for smaller screens */
            }

            .social-link {
                padding: 6px 10px;
                /* Reduced padding for smaller screens */
                font-size: 13px;
                /* Reduced font size for smaller screens */
            }

            .social-link i {
                font-size: 1.1em;
                /* Slightly smaller icon */
            }

            .social-link span {
                display: inline;
                /* Ensure text is visible */
            }
        }


        @media (max-width: 600px) {
            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .header-controls {
                width: 100%;
                justify-content: space-around;
            }

            .progress-container {
                max-width: 50%;
            }

            .progress-item {
                width: 26px;
                height: 26px;
                font-size: 12px;
            }

            footer {
                flex-direction: column;
                gap: 15px;
            }

            .action-buttons {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>


<body>
    <header>
        <div class="logo-area">
            <!-- Removed the logo image tag as it was not opening -->
            <a class="social-link telegram" href="https://t.me/IELTSwithJurabek target=" _blank"
                title="Join on Telegram">
                <i class="fab fa-telegram-plane"></i>
                <span> IELTSwithJurabek </span>
            </a>
        </div>
        <div class="header-controls">
            <div class="timer-container">
                <i class="fas fa-clock"></i>
                <span id="timer">20:00</span>
                <div class="timer-controls">
                    <button id="start-timer" title="Start"><i class="fas fa-play"></i></button>
                    <button id="pause-timer" title="Pause"><i class="fas fa-pause"></i></button>
                    <button id="reset-timer" title="Reset"><i class="fas fa-redo"></i></button>
                </div>
            </div>
            <button class="mode-toggle" id="night-mode-toggle" title="Toggle Night Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>
    <main>
        <div class="passage-container" id="passage-container">
            <div class="passage-content">
                <h4>READING PASSAGE 1</h4>
                <div class="instructions">You should spend about 20 minutes on Questions 1-13, which are based on
                    Reading
                    Passage 1.</div>
                <div class="passage-text" id="passage-text">
                    <p style="text-align:center; font-weight: bold !important;">Museums and Family Visitors in Australia
                    </p>
                    <p>Museums in Australia have recognised the need to become more responsive to their audiences,
                        especially families who visit museums in large numbers. Research has consistently found that
                        positive early family visits to museums have a significant impact on later visiting habits. What
                        is more, researchers have identified the importance of learning in family visits and the
                        different roles that various family members play before, during, and after their visit.</p>
                    <p>For many years, museums in Australia have acknowledged the importance of families as visitors,
                        with several establishing separate spaces for these groups, especially those with very young
                        children. Major museums have developed dedicated spaces specifically designed for children and
                        families. For example, the Melbourne Museum's Children's Gallery is aimed at three-to
                        eight-year-olds and has a mandate to encourage children to discover and explore within a range
                        of science issues. The goal is to provide an interactive, hands-on, and playful space that
                        engages all the senses through continually updated exhibitions. The National Museum of Australia
                        in Canberra developed Kspace, an interactive space where children "design their own future with
                        the help of technology." This museum also designed Our Place, a series of cozy play spaces where
                        children can explore the museum's themes in their own ways.</p>
                    <p>Other museums have also considered the entire family when designing their dedicated spaces. The
                        Australian National Maritime Museum in Sydney, when developing Pirates, its below-the-deck
                        pirate ship experience, realised that exhibitions aimed at children, particularly school-aged
                        children, also needed more sophisticated exhibits to occupy their accompanying parents. The
                        Powerhouse Museum in Sydney, while recognising the value of a dedicated space for children who
                        were visiting with their parents, developed the museum's installation, Zoe's House, which caters
                        specifically for children aged three to five years, to facilitate cooperation in children
                        through play.</p>
                    <p>Family visits to museums in Australia share a number of characteristics. Generally, visitors take
                        time for orientation, enter with a sense of curiosity, link what they see to their own prior
                        experiences, and are most attracted to interactive displays. Their common viewing behaviour
                        involves looking very closely at each display in the first gallery and then skimming and moving
                        randomly in subsequent galleries. Their visiting behaviour is modified by increased experience
                        with the setting: they like to revisit favourite displays, share their viewing and learning in a
                        social context, and interact with people from the museum. They respond to physical needs by
                        using the comfortable chairs provided or having a break after a little more than an hour, and
                        generally stay for two hours at most.</p>
                    <p>Research has found that adult members of family groups play three roles which are particularly
                        relevant to the family group during the visit: visit manager by directing and organising; museum
                        expert through explaining, clarifying, and correcting; and learning facilitator in questioning
                        and reminiscing. These roles occur simultaneously, are closely linked to the process of
                        learning, and are dependent on both the social context of the visit and the group composition,
                        particularly the ages of any accompanying children.</p>
                    <p>Parents consider museum visits to be valuable in creating and strengthening relationships with
                        their children and in enabling them to tune into what fascinates their children. Parents make
                        use of learning facilities such as open-access libraries and activity kits if they know the
                        resources are there and understand their role. Family members each take notice of different
                        aspects of an exhibit and construct a shared meaning together. Museums are seen as a good day
                        out, something the whole family can enjoy as a different form of education and are generally
                        considered good value for money.</p>
                    <p>In this increasingly complex world, where the real and virtual are blurring, and where changes in
                        society can seem overwhelming, museums are able to provide spaces for families to be together as
                        well as learn together. Parents value museum visits because they provide children with
                        opportunities to learn in different ways through bringing concepts to life and enhancing school
                        learning experiences. Museums stimulate visitors of all ages and open their minds to new ideas,
                        the world around them, history, and other cultures. Children enjoy museums as places where they
                        can fantasise, explore, and learn in ways that are more engaging than they experience in more
                        formal settings, such as school. Museums need to identify the elements that families value, the
                        ways families interact with museums, and how museums operate as extremely effective learning
                        units. The challenge is for museums to then apply these principles, not only to the development
                        of future exhibitions and programs but also to the ways they plan for all visitors.</p>
                </div>
            </div>
        </div>
        <div class="questions-container" id="questions-container">
            <div class="section-title">Questions 1–5</div>
            <div class="instructions">Complete the table below.<br />Choose <strong>ONE WORD ONLY</strong> from the
                passage for each answer.</div>
            <p style="text-align:center; font-weight: bold !important;">Dedicated museum spaces for families with
                children</p>
            <div class="question-group">
                <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                    <thead>
                        <tr style="background-color: var(--border-color); color: white;">
                            <th style="padding: 8px; border: 1px solid var(--text-color);; border: 1px solid black;">
                                Museums</th>
                            <th style="padding: 8px; border: 1px solid var(--text-color);; border: 1px solid black;">
                                Dedicated spaces</th>
                            <th style="padding: 8px; border: 1px solid var(--text-color);; border: 1px solid black;">
                                Target users</th>
                            <th style="padding: 8px; border: 1px solid var(--text-color);; border: 1px solid black;">Aim
                                of dedicated spaces</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="question" id="q1">
                            <td style="border: 1px solid black;">Melbourne Museum</td>
                            <td style="border: 1px solid black;">Children's Gallery</td>
                            <td style="border: 1px solid black;">3-8 year olds</td>
                            <td style="border: 1px solid black;">- present <strong>1. </strong><input
                                    class="fill-in-the-blank" name="q1" type="text" /> topics in interesting ways</td>
                        </tr>
                        <tr class="question" id="q2">
                            <td style="border: 1px solid black;">National Museum of Australia</td>
                            <td style="border: 1px solid black;">Kspace, Our Place</td>
                            <td style="border: 1px solid black;">Children</td>
                            <td style="border: 1px solid black;">Use <strong>2. </strong><input
                                    class="fill-in-the-blank" name="q2" type="text" /> to imagine the future</td>
                        </tr>
                        <tr class="question" id="q3">
                            <td style="border: 1px solid black;">Australian National Maritime Museum</td>
                            <td style="border: 1px solid black;">Pirates</td>
                            <td style="border: 1px solid black;">
                                Children of school age and <strong>3. </strong>
                                <input class="fill-in-the-blank" name="q3" type="text" />
                            </td>
                            <td style="border: 1px solid black;">Stimulate the life of a pirate</td>
                        </tr>
                        <tr class="question" id="q4">
                            <td style="border: 1px solid black;">
                                <strong>4. </strong>
                                <input class="fill-in-the-blank" name="q4" type="text" /> Museum
                            </td>
                            <td style="border: 1px solid black;">Zoe's House</td>
                            <td style="border: 1px solid black;">Pre-schoolers</td>
                            <td style="border: 1px solid black;">
                                Use play to encourage <strong>5. </strong>
                                <input class="fill-in-the-blank" name="q5" type="text" /> between children
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div class="section-title">Questions 6–9</div>
            <div class="instructions">Complete the notes below.<br />Choose <strong>NO MORE THAN TWO WORDS AND/OR A
                    NUMBER</strong> for each answer.</div>
            <p><b>Family visits to museums</b></p>
            <p>When families visit museums, they usually:</p>
            <div class="question-group">
                <div class="question" id="q6">
                    <div class="question-title">
                        <div class="question-number">6</div>
                        <div class="question-text">- determine the location of exhebits<br>
                            - Prefer exhibits that are <input class="fill-in-the-blank" name="q6" type="text" /></div>
                    </div>
                </div>
                <div class="question" id="q7">
                    <div class="question-title">
                        <div class="question-number">7</div>
                        <div class="question-text">- move slowly throgh the first gallery<br>
                            - move without planning through th remaining galleries<br>
                            - Enjoy seeing their <input class="fill-in-the-blank" name="q7" type="text" /> second time
                        </div>
                    </div>
                </div>
                <div class="question" id="q8">
                    <div class="question-title">
                        <div class="question-number">8</div>
                        <div class="question-text">- speak to staff<br>
                            - Sit or take a <input class="fill-in-the-blank" name="q8" type="text" /></div>
                    </div>
                </div>
                <div class="question" id="q9">
                    <div class="question-title">
                        <div class="question-number">9</div>
                        <div class="question-text">- Stay for a maximum of <input class="fill-in-the-blank" name="q9"
                                type="text" /></div>
                    </div>
                </div>
            </div>
            <div class="section-title">Questions 10–13</div>
            <div class="instructions">Do the following statements agree with the information given in Reading Passage 1?
            </div>
            <div class="instructions">In boxes 10–13 on your answer sheet, write:<br />
                TRUE – if the statement agrees with the information<br />
                FALSE – if the statement contradicts the information<br />
                NOT GIVEN – if there is no information on this</div>
            <div class="question-group">
                <div class="question" id="q10">
                    <div class="question-title">
                        <div class="question-number">10</div>
                        <div class="question-text">Some adult visitors behave like a museum specialist when guiding
                            younger visitors.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input name="q10" type="radio" value="TRUE" /> TRUE</label>
                        <label class="option"><input name="q10" type="radio" value="FALSE" /> FALSE</label>
                        <label class="option"><input name="q10" type="radio" value="NOT GIVEN" /> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q11">
                    <div class="question-title">
                        <div class="question-number">11</div>
                        <div class="question-text">It is more enjoyable to visit a museum with a group of children who
                            are all the same age.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input name="q11" type="radio" value="TRUE" /> TRUE</label>
                        <label class="option"><input name="q11" type="radio" value="FALSE" /> FALSE</label>
                        <label class="option"><input name="q11" type="radio" value="NOT GIVEN" /> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q12">
                    <div class="question-title">
                        <div class="question-number">12</div>
                        <div class="question-text">Parents think that the cost of visiting museums is too high.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input name="q12" type="radio" value="TRUE" /> TRUE</label>
                        <label class="option"><input name="q12" type="radio" value="FALSE" /> FALSE</label>
                        <label class="option"><input name="q12" type="radio" value="NOT GIVEN" /> NOT GIVEN</label>
                    </div>
                </div>
                <div class="question" id="q13">
                    <div class="question-title">
                        <div class="question-number">13</div>
                        <div class="question-text">Children want to visit museums after they learn about a topic at
                            school.</div>
                    </div>
                    <div class="options">
                        <label class="option"><input name="q13" type="radio" value="TRUE" /> TRUE</label>
                        <label class="option"><input name="q13" type="radio" value="FALSE" /> FALSE</label>
                        <label class="option"><input name="q13" type="radio" value="NOT GIVEN" /> NOT GIVEN</label>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <div class="progress-container" id="progress-container">
        </div>
        <div class="action-buttons">
            <button class="btn-secondary" id="reset-btn">Reset Answers</button>
            <button class="btn-primary" id="submit-btn">Submit Answers</button>
        </div>
    </footer>
    <div class="feedback-overlay" id="feedback-overlay">
        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header">
                <div class="feedback-title">
                    <i class="fas fa-chart-bar"></i> Your Results
                    <span class="score-display" id="score-display">0/13</span>
                </div>
                <button id="close-feedback" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="feedback-body" id="feedback-body">
            </div>
        </div>
    </div>

    <script>
        // Timer functionality
        let timerInterval;
        let seconds = 1200; // 20 minutes
        let timerRunning = false;

        const timerDisplay = document.getElementById('timer');
        const startTimer = document.getElementById('start-timer');
        const pauseTimer = document.getElementById('pause-timer');
        const resetTimer = document.getElementById('reset-timer');

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            return `${mins}:${secs}`;
        }

        function updateTimer() {
            timerDisplay.textContent = formatTime(seconds);
            if (seconds <= 0) {
                clearInterval(timerInterval);
                timerRunning = false;
                document.getElementById('submit-btn').click();
            }
        }

        startTimer.addEventListener('click', () => {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    seconds--;
                    updateTimer();
                }, 1000);
            }
        });

        pauseTimer.addEventListener('click', () => {
            if (timerRunning) {
                clearInterval(timerInterval);
                timerRunning = false;
            }
        });

        resetTimer.addEventListener('click', () => {
            clearInterval(timerInterval);
            timerRunning = false;
            seconds = 1200;
            updateTimer();
        });

        // Night mode toggle
        const nightModeToggle = document.getElementById('night-mode-toggle');
        nightModeToggle.addEventListener('click', () => {
            document.body.classList.toggle('night-mode');
            const icon = nightModeToggle.querySelector('i');
            if (document.body.classList.contains('night-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        });

        // Create progress indicators
        const progressContainer = document.getElementById('progress-container');
        for (let i = 1; i <= 13; i++) {
            const progressItem = document.createElement('div');
            progressItem.className = 'progress-item';
            progressItem.textContent = i;
            progressItem.dataset.question = i;
            progressContainer.appendChild(progressItem);

            progressItem.addEventListener('click', () => {
                const questionElement = document.getElementById(`q${i}`);
                if (questionElement) {
                    questionElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }

        // Modified highlight logic with color picker and remove functionality
        let highlightTooltip = null;
        let selectedRange = null;

        function createColorPicker(x, y, applyColorCallback) {
            const colors = ["lightgreen", "yellow", "lightskyblue"];
            const picker = document.createElement("div");
            picker.className = "highlight-tooltip";
            picker.style.top = `${y}px`;
            picker.style.left = `${x}px`;
            picker.style.position = "fixed";
            picker.style.background = "#333";
            picker.style.color = "white";
            picker.style.padding = "5px 10px";
            picker.style.borderRadius = "4px";
            picker.style.zIndex = 1000;
            picker.style.display = "flex";
            colors.forEach(color => {
                const btn = document.createElement("button");
                btn.style.backgroundColor = color;
                btn.style.border = "none";
                btn.style.width = "20px";
                btn.style.height = "20px";
                btn.style.margin = "0 4px";
                btn.style.borderRadius = "50%";
                btn.title = `Highlight with ${color}`;
                btn.addEventListener("click", () => {
                    applyColorCallback(color);
                    picker.remove();
                });
                picker.appendChild(btn);
            });
            document.body.appendChild(picker);
            return picker;
        }

        function applyHighlight(color) {
            if (!selectedRange) return;
            const span = document.createElement("span");
            span.className = "highlight";
            span.style.backgroundColor = color;
            span.setAttribute("data-color", color);
            span.appendChild(selectedRange.extractContents());
            selectedRange.insertNode(span);
            selectedRange = null;
            window.getSelection().removeAllRanges();

            span.addEventListener("click", function (e) {
                e.stopPropagation();
                if (highlightTooltip) highlightTooltip.remove();
                highlightTooltip = document.createElement("div");
                highlightTooltip.className = "highlight-tooltip";
                highlightTooltip.style.top = `${e.clientY}px`;
                highlightTooltip.style.left = `${e.clientX}px`;
                highlightTooltip.innerHTML = `<button style="color:white;background:red;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;">Remove Highlight</button>`;
                highlightTooltip.querySelector("button").addEventListener("click", function () {
                    const parent = span.parentNode;
                    while (span.firstChild) {
                        parent.insertBefore(span.firstChild, span);
                    }
                    parent.removeChild(span);
                    parent.normalize();
                    highlightTooltip.remove();
                });
                document.body.appendChild(highlightTooltip);
            });
        }


        function handleMouseUp(e) {
            const selection = window.getSelection();
            if (selection.toString().trim() === '') return;
            if (!e.currentTarget.contains(selection.anchorNode)) return;

            selectedRange = selection.getRangeAt(0).cloneRange();
            const rect = selectedRange.getBoundingClientRect();

            if (highlightTooltip) highlightTooltip.remove();

            highlightTooltip = createColorPicker(rect.left, rect.top - 40, applyHighlight);
        }

        document.getElementById('passage-text').addEventListener('mouseup', handleMouseUp);
        document.getElementById('questions-container').addEventListener('mouseup', handleMouseUp);

        document.addEventListener('mousedown', (e) => {
            if (highlightTooltip && !highlightTooltip.contains(e.target)) {
                highlightTooltip.remove();
                highlightTooltip = null;
                window.getSelection().removeAllRanges();
            }
        });

        // Track answered questions
        const questions = document.querySelectorAll('.question');
        const progressItems = document.querySelectorAll('.progress-item');

        function updateProgress() {
            let answeredCount = 0;

            questions.forEach((question) => {
                const id = question.id; // e.g., "q6", "q7", etc.
                const questionNumber = parseInt(id.replace('q', ''));
                const progressItem = document.querySelector(`.progress-item[data-question="${questionNumber}"]`);

                let answered = false;

                const textInput = question.querySelector('input[type="text"]');
                if (textInput) {
                    answered = textInput.value.trim() !== '';
                } else {
                    const selectedOption = question.querySelector('input[type="radio"]:checked');
                    answered = selectedOption !== null;
                }

                if (answered) {
                    question.classList.add('answered');
                    if (progressItem) progressItem.classList.add('completed');
                    answeredCount++;
                } else {
                    question.classList.remove('answered');
                    if (progressItem) progressItem.classList.remove('completed');
                }
            });

            return answeredCount;
        }

        // Event listeners
        document.querySelectorAll('input[type="radio"], input[type="text"]').forEach(input => {
            input.addEventListener('change', updateProgress);
            input.addEventListener('input', updateProgress);
        });


        // Reset button
        document.getElementById('reset-btn').addEventListener('click', () => {
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.checked = false;
            });

            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });

            document.querySelectorAll('.highlight').forEach(highlight => {
                const parent = highlight.parentNode;
                while (highlight.firstChild) {
                    parent.insertBefore(highlight.firstChild, highlight);
                }
                parent.removeChild(highlight);
                parent.normalize();
            });

            updateProgress();
            document.getElementById('feedback-overlay').style.display = 'none';
        });

        // Submit and Feedback functionality
        const feedbackOverlay = document.getElementById('feedback-overlay');
        const closeFeedbackBtn = document.getElementById('close-feedback');

        document.getElementById('submit-btn').addEventListener('click', () => {
            pauseTimer.click();

            const answers = {
                1: "science",
                2: "technology",
                3: "parents",
                4: "Powerhouse",
                5: "cooperation",
                6: "interactive",
                7: "favorite displays",
                8: "break",
                9: "two hours",
                10: "TRUE",
                11: "NOT GIVEN",
                12: "FALSE",
                13: "NOT GIVEN"
            };

            const explanations = {
                1: "The Melbourne Museum's Children's Gallery is described as covering a range of science issues. Therefore, the aim is to present 'science' topics.",
                2: "Kspace at the National Museum of Australia lets children design their own future with the help of 'technology'.",
                3: "The Australian National Maritime Museum created exhibits to engage children and also their accompanying 'parents'.",
                4: "Zoe’s House was developed by the Powerhouse Museum in Sydney, specifically mentioned in the paragraph.",
                5: "Zoe’s House aims to encourage 'cooperation' among children through play.",
                6: "Families are most attracted to 'interactive' displays, as explicitly mentioned.",
                7: "It is stated that families revisit 'favorite displays' during their visits.",
                8: "Families take a 'break' after about an hour of viewing, as mentioned in the research.",
                9: "The passage states that families generally stay for 'two hours at most'.",
                10: "Adults take on the role of 'museum expert' by explaining and clarifying information, indicating specialist behavior.",
                11: "There is no mention about whether groups of same-age children are more enjoyable for museum visits.",
                12: "Parents view museum visits as 'good value for money', contradicting the statement that cost is too high.",
                13: "Although museums enhance school learning, there is no clear statement that children want to visit museums after school topics."
            };

            const passageReferences = {
                1: "The Melbourne Museum's Children's Gallery is aimed at three-to eight-year-olds and has a mandate to encourage children to discover and explore within a range of science issues.",
                2: "The National Museum of Australia in Canberra developed Kspace, an interactive space where children 'design their own future with the help of technology.'",
                3: "Exhibitions aimed at children... also needed more sophisticated exhibits to occupy their accompanying parents.",
                4: "The Powerhouse Museum in Sydney... developed the museum's installation, Zoe's House.",
                5: "Zoe's House... to facilitate cooperation in children through play.",
                6: "Visitors... are most attracted to interactive displays.",
                7: "They like to revisit favourite displays, share their viewing and learning in a social context.",
                8: "They respond to physical needs by using the comfortable chairs provided or having a break after a little more than an hour.",
                9: "Generally stay for two hours at most.",
                10: "Adult members of family groups play three roles... including museum expert through explaining, clarifying, and correcting.",
                11: "[No reference in the passage about visiting with same-age children being more enjoyable.]",
                12: "Museums are... generally considered good value for money.",
                13: "[No explicit mention that children want to visit museums after learning a topic at school.]"
            };

            let correctCount = 0;
            const feedbackBody = document.getElementById('feedback-body');
            feedbackBody.innerHTML = '';

            for (let i = 1; i <= 13; i++) {
                let userAnswer, isCorrect, questionHTML;
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';

                if (i <= 9) {
                    const input = document.querySelector(`input[name="q${i}"]`);
                    userAnswer = input.value.trim();
                    isCorrect = userAnswer.toLowerCase() === answers[i].toLowerCase();

                    const questionRow = document.getElementById(`q${i}`);
                    if (questionRow) {
                        const clonedRow = questionRow.cloneNode(true);
                        const inputs = clonedRow.querySelectorAll('input');
                        inputs.forEach(inp => {
                            const correctAns = answers[i];
                            const em = document.createElement('strong');
                            em.innerHTML = `<em>${correctAns}</em>`;
                            inp.replaceWith(em);
                        });
                        questionHTML = clonedRow.innerHTML;
                    } else {
                        questionHTML = `Question ${i}`;
                    }
                } else {
                    const questionDiv = document.querySelector(`#q${i} .question-text`);
                    userAnswer = document.querySelector(`input[name="q${i}"]:checked`)?.value || 'Not answered';
                    isCorrect = userAnswer === answers[i];
                    questionHTML = questionDiv ? questionDiv.textContent : '';
                }

                if (isCorrect) correctCount++;

                feedbackItem.innerHTML = `
                    <div class="feedback-question">
                        <span class="${isCorrect ? 'correct' : 'incorrect'}">Question ${i}:</span>
                        ${isCorrect ? `<i class="fas fa-check correct" style="margin-left: 5px;"></i>` : `<i class="fas fa-times incorrect" style="margin-left: 5px;"></i>`}
                    </div>
                    <p><em>${questionHTML}</em></p>
                    <div class="feedback-answer">
                        <strong>Your answer:</strong> ${userAnswer}<br>
                        ${!isCorrect ? `<strong>Correct answer:</strong> ${answers[i]}` : ''}
                    </div>
                    <div class="feedback-explanation">
                        <strong>Explanation:</strong> ${explanations[i]}
                    </div>
                    <div class="feedback-passage">
                        <strong>Relevant passage:</strong> "${passageReferences[i]}"
                    </div>
                `;

                feedbackBody.appendChild(feedbackItem);
            }

            document.getElementById('score-display').textContent = `${correctCount}/13`;
            feedbackOverlay.style.display = 'flex';
        });

        closeFeedbackBtn.addEventListener('click', () => {
            feedbackOverlay.style.display = 'none';
        });

        feedbackOverlay.addEventListener('click', (e) => {
            if (e.target === feedbackOverlay) {
                feedbackOverlay.style.display = 'none';
            }
        });

        // Initialize timer display and progress
        updateTimer();
        updateProgress();
    </script>
</body>


</html>