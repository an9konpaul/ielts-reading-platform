<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 6px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>


<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
            <div class="passage-info">Passage 3 of 3</div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage3">
                    <h3>The Pirahã People of Brazil</h3>
                    <p id="P1"><span class="label">A</span> The Pirahã tribe live deep in Brazil's Amazon forest, and
                        their language is hotly debated by linguists. Since 1977, the ethnologist Daniel Everett has
                        spent a total of seven years living with the Pirahã and has committed his career to studying
                        their puzzling speech. Indeed, he was uncertain for so long about what he was actually hearing
                        while living among the Pirahã that he waited nearly three decades before publishing his
                        findings.</p>
                    <p id="P2"><span class="label">B</span> The debate over the Pirahã language goes right to the core
                        of the riddle regarding how Homo sapiens managed to develop vocal communication. Although bees
                        dance, birds sing and whales even sing with syntax*, human language is unique, if only for the
                        reason that it enables humans to piece together never-before-constructed thoughts, and be
                        infinitely imaginative - think of Shakespeare's plays or Einstein's theory of relativity.</p>
                    <p id="P3"><span class="label">C</span> Linguistics generally focuses on what features all human
                        languages have in common, but the Pirahã language departs from what some academics have long
                        maintained are essential and inalienable features of all human languages. Most of all, it may be
                        unique for not employing subordinate clauses. Instead of saying, 'When I have finished eating, I
                        will speak to you,' the Pirahã say, 'I finish eating, I speak with you.' Equally perplexing, the
                        Pirahã appear not to use numbers. During the time he spent with them, Everett never heard words
                        like 'all', 'every' and 'more'. There is one word, 'hoi', that comes close to the numeral 1, but
                        it can also mean 'small'. And they were never observed to count without language, on their
                        fingers for example, in order to determine important tasks in village life like how many pieces
                        of meat to grill.</p>
                    <p id="P4"><span class="label">D</span> Everett's findings among the Pirahã have brought new life to
                        a controversial theory by the linguist Benjamin Whorf, who suggested that people are only
                        capable of constructing thoughts for which they possess actual words. Or to put it another way,
                        because they have no words for numbers, they cannot even begin to understand the concept of
                        numbers or arithmetic.</p>
                    <p id="P5"><span class="label">E</span> The Warlpiri language - spoken by a group of Australian
                        Aborigines - like that of the Pirahã, features only the most rudimentary system of counting.
                        However, the Warlpiri people had no difficulty counting farther than three in a foreign
                        language, in this case English, but when Everett attempted to teach the Pirahã how to count in
                        Portuguese like other Brazilians, not a single person could count to 10.</p>
                    <p id="P6"><span class="label">F</span> Everett is at pains to point out that the Pirahã are not
                        unintelligent, for their thinking is not any slower than that of the average university student.
                        And although they reside in a remote part of the forest, they do not live in complete genetic
                        isolation, but mix with people from the surrounding populations and share similar intellectual
                        capacities with their neighbours whose languages do contain numbers.</p>
                    <p id="P7"><span class="label">G</span> Eventually, after some 30 years of research, Everett has
                        come up with a surprising explanation for the peculiarities of the Pirahã language. Language, he
                        believes, is created by a people's way of life, their belief system and values. In this way,
                        variety in human language is almost limitless, a function of the human capacity to live in
                        different ways, such as in the forest. What Everett's research has revealed is that the central
                        tenet of the Pirahã culture is to live in the here and now. The only thing of importance that is
                        worth communicating to others is what is being experienced at that very moment, though this can
                        often be described with great care and detail. In consequence, the language has no means to
                        conjugate verbs in order to describe 'yesterday' or 'last week' or 'when I was a child'. Their
                        very literal view of the world curtails abstract thought, and many features taken for granted
                        among other peoples are absent among the Pirahã, such as a creation myth, story telling and
                        painting. One manifestation of their beliefs is that by tradition the names they give their
                        children are not particularly imaginative. Often they are named after other members of the tribe
                        with whom they share similar character traits. Standing out or being different is not encouraged
                        by the Pirahã, and this is reflected in their perhaps colourless choice of names.</p>
                    <p id="P8"><span class="label">H</span> Everett anticipated that these findings would be
                        controversial and the reaction came as expected. Until this point, many linguists had defended
                        the theories of Noam Chomsky, according to which all human languages have a universal grammar.
                        What exactly makes up this universal grammar is the subject of debate, but at its heart is the
                        concept of 'recursion', which is defined as replication of a structure within its single parts.
                        Without it, humans would not be able to view separate thoughts as subordinate parts of a complex
                        whole. And, most pertinent to Everett's work, there would not be subordinate clauses, which are
                        responsible for translating the concept of recursion into grammar. But if the Pirahã do not form
                        subordinate clauses, then recursion cannot explain the uniqueness of human language, and this
                        would negate Chomsky's theories.</p>
                    <p id="P9"><span class="label">I</span> The logical way forward now would be to try to prove that
                        the Pirahã can think in a recursive fashion. The only problem is, nobody can confirm or deny
                        Everett's observations since no other researcher can speak Pirahã as well as he does. Despite
                        this, several researchers - including two of Chomsky's colleagues - will soon travel to Brazil
                        to check his claims. My concern is that soon the Pirahã will simply become one more scientific
                        oddity with every aspect of their lives being exploited and analysed.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27-40</h2>
                <p>You should spend about 20 minutes on Questions 27–40, which are based on Reading Passage 3.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 27-32</div>
                    <p>Choose the correct letter, <strong>A, B, C, or D</strong>. Write the correct letter in boxes
                        <strong>27-32</strong> on your answer sheet.
                    </p>
                    <div class="question" data-question="27">
                        <div class="question-text">27. What are we told about Daniel Everett in the first paragraph?
                        </div>
                        <div class="options">
                            <label><input type="radio" name="q27" value="A"> A. He has lived among the Pirahã since
                                1977.</label>
                            <label><input type="radio" name="q27" value="B"> B. It took him seven years to learn the
                                Pirahã language.</label>
                            <label><input type="radio" name="q27" value="C"> C. No one would publish his research for
                                three decades.</label>
                            <label><input type="radio" name="q27" value="D"> D. Studying the Pirahã language is the
                                focus of his work.</label>
                        </div>
                    </div>
                    <div class="question" data-question="28">
                        <div class="question-text">28. Which of the following is the best summary of the second
                            paragraph?</div>
                        <div class="options">
                            <label><input type="radio" name="q28" value="A"> A. Humans are the only species to be
                                linguistically creative.</label>
                            <label><input type="radio" name="q28" value="B"> B. Humans, bees, birds and whales share a
                                characteristic.</label>
                            <label><input type="radio" name="q28" value="C"> C. Human language is not fully understood
                                by scientists.</label>
                            <label><input type="radio" name="q28" value="D"> D. Humans are the only species to use
                                syntax.</label>
                        </div>
                    </div>
                    <div class="question" data-question="29">
                        <div class="question-text">29. Why does the writer refer to subordinate clauses?</div>
                        <div class="options">
                            <label><input type="radio" name="q29" value="A"> A. To criticise the general approach of
                                linguistics.</label>
                            <label><input type="radio" name="q29" value="B"> B. To compare two features of the Pirahã
                                language.</label>
                            <label><input type="radio" name="q29" value="C"> C. To explain why the Pirahã language is
                                difficult to learn.</label>
                            <label><input type="radio" name="q29" value="D"> D. To exemplify an unusual feature of the
                                Pirahã language.</label>
                        </div>
                    </div>
                    <div class="question" data-question="30">
                        <div class="question-text">30. What point does the writer make about the work of Whorf?</div>
                        <div class="options">
                            <label><input type="radio" name="q30" value="A"> A. He thought that numbers were common to
                                all human languages.</label>
                            <label><input type="radio" name="q30" value="B"> B. His theory might be supported by
                                Everett's research.</label>
                            <label><input type="radio" name="q30" value="C"> C. His research enabled him to find a new
                                life among the Pirahã.</label>
                            <label><input type="radio" name="q30" value="D"> D. He predicted that people like the Pirahã
                                would never be found.</label>
                        </div>
                    </div>
                    <div class="question" data-question="31">
                        <div class="question-text">31. The writer refers to the Warlpiri people in order to</div>
                        <div class="options">
                            <label><input type="radio" name="q31" value="A"> A. Suggest that the Pirahã be taught to
                                count in English.</label>
                            <label><input type="radio" name="q31" value="B"> B. Show how tribal peoples learn a foreign
                                language.</label>
                            <label><input type="radio" name="q31" value="C"> C. Compare counting in English and
                                Portuguese.</label>
                            <label><input type="radio" name="q31" value="D"> D. Illustrate the uniqueness of the
                                Pirahã.</label>
                        </div>
                    </div>
                    <div class="question" data-question="32">
                        <div class="question-text">32. What is Everett’s point about the Pirahã’s intellectual
                            capacities?</div>
                        <div class="options">
                            <label><input type="radio" name="q32" value="A"> A. Pirahã students have not graduated from
                                universities.</label>
                            <label><input type="radio" name="q32" value="B"> B. He does not want people to criticise
                                their intelligence.</label>
                            <label><input type="radio" name="q32" value="C"> C. Their isolation makes it difficult to
                                evaluate their intelligence.</label>
                            <label><input type="radio" name="q32" value="D"> D. He believes their language is more
                                complex than their neighbours’.</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 33-36</div>
                    <p>Complete the summary below using the list of words, A-I, below. Write the correct letter, A-I, in
                        boxes <strong>33-36</strong> on your answer sheet.</p>
                    <p><strong>Everett’s explanation</strong><br>
                        Everett believes that a group’s language is a product of their <span
                            class="question-text">33</span> <select name="q33">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. present</option>
                            <option value="B">B. past</option>
                            <option value="C">C. time</option>
                            <option value="D">D. future</option>
                            <option value="E">E. culture</option>
                            <option value="F">F. grammar</option>
                            <option value="G">G. art</option>
                            <option value="H">H. individuality</option>
                            <option value="I">I. children</option>
                        </select> and thus language is infinitely varied. During the time he spent living among them, he
                        observed that the Pirahã only place value on the <span class="question-text">34</span> <select
                            name="q34">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. present</option>
                            <option value="B">B. past</option>
                            <option value="C">C. time</option>
                            <option value="D">D. future</option>
                            <option value="E">E. culture</option>
                            <option value="F">F. grammar</option>
                            <option value="G">G. art</option>
                            <option value="H">H. individuality</option>
                            <option value="I">I. children</option>
                        </select> and have no <span class="question-text">35</span> <select name="q35">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. present</option>
                            <option value="B">B. past</option>
                            <option value="C">C. time</option>
                            <option value="D">D. future</option>
                            <option value="E">E. culture</option>
                            <option value="F">F. grammar</option>
                            <option value="G">G. art</option>
                            <option value="H">H. individuality</option>
                            <option value="I">I. children</option>
                        </select> to describe completed events. Similarly, the types of names they use reflect the fact
                        that they do not celebrate <span class="question-text">36</span> <select name="q36">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. present</option>
                            <option value="B">B. past</option>
                            <option value="C">C. time</option>
                            <option value="D">D. future</option>
                            <option value="E">E. culture</option>
                            <option value="F">F. grammar</option>
                            <option value="G">G. art</option>
                            <option value="H">H. individuality</option>
                            <option value="I">I. children</option>
                        </select>.
                    </p>
                    <p><strong>List of Words:</strong><br>
                        A. present<br>
                        B. past<br>
                        C. time<br>
                        D. future<br>
                        E. culture<br>
                        F. grammar<br>
                        G. art<br>
                        H. individuality<br>
                        I. children
                    </p>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 37-40</div>
                    <p>Do the following statements agree with the claims of the writer in Reading Passage 3? In boxes
                        <strong>37-40</strong> on your answer sheet, write:<br>
                        <strong>YES</strong> – if the statement agrees with the claims of the writer<br>
                        <strong>NO</strong> – if the statement contradicts the claims of the writer<br>
                        <strong>NOT GIVEN</strong> – if it is impossible to say what the writer thinks about this
                    </p>
                    <div class="question" data-question="37">
                        <div class="question-text">37. Everett was surprised by the way his research was greeted.</div>
                        <div class="options">
                            <label><input type="radio" name="q37" value="YES"> YES</label>
                            <label><input type="radio" name="q37" value="NO"> NO</label>
                            <label><input type="radio" name="q37" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="38">
                        <div class="question-text">38. Chomsky has been critical of Everett’s research methodology.
                        </div>
                        <div class="options">
                            <label><input type="radio" name="q38" value="YES"> YES</label>
                            <label><input type="radio" name="q38" value="NO"> NO</label>
                            <label><input type="radio" name="q38" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="39">
                        <div class="question-text">39. If ‘recursion’ as a universal concept is disproved, Chomsky’s
                            ideas about language would be wrong.</div>
                        <div class="options">
                            <label><input type="radio" name="q39" value="YES"> YES</label>
                            <label><input type="radio" name="q39" value="NO"> NO</label>
                            <label><input type="radio" name="q39" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="40">
                        <div class="question-text">40. The Pirahã will benefit from their new-found status among
                            academics.</div>
                        <div class="options">
                            <label><input type="radio" name="q40" value="YES"> YES</label>
                            <label><input type="radio" name="q40" value="NO"> NO</label>
                            <label><input type="radio" name="q40" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="27">27</div>
                    <div class="progress-item" data-question="28">28</div>
                    <div class="progress-item" data-question="29">29</div>
                    <div class="progress-item" data-question="30">30</div>
                    <div class="progress-item" data-question="31">31</div>
                    <div class="progress-item" data-question="32">32</div>
                    <div class="progress-item" data-question="33">33</div>
                    <div class="progress-item" data-question="34">34</div>
                    <div class="progress-item" data-question="35">35</div>
                    <div class="progress-item" data-question="36">36</div>
                    <div class="progress-item" data-question="37">37</div>
                    <div class="progress-item" data-question="38">38</div>
                    <div class="progress-item" data-question="39">39</div>
                    <div class="progress-item" data-question="40">40</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 27-40
        const correctAnswers = {
            q27: "D", // Studying the Pirahã language is the focus of his work
            q28: "C", // Human language is not fully understood by scientists
            q29: "D", // To exemplify an unusual feature of the Pirahã language
            q30: "B", // His theory might be supported by Everett's research
            q31: "D", // Illustrate the uniqueness of the Pirahã
            q32: "B", // He does not want people to criticise their intelligence
            q33: "E", // culture
            q34: "A", // present
            q35: "F", // grammar
            q36: "H", // individuality
            q37: "NO",
            q38: "NOT GIVEN",
            q39: "YES",
            q40: "NO"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 27;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes for Passage 3
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.querySelector('.passage-container');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`) || document.querySelector(`select[name="q${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 27;
            nextBtn.disabled = num >= 40;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 27) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 40) scrollToQuestion(currentQuestion + 1);
        });

        // Event listener for marking questions as answered
        document.querySelectorAll('select, input[type="radio"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        const value = input.tagName === 'INPUT' ? input.value : input.value;
                        if (value) {
                            item.classList.add('answered');
                        }
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // Process questions 27-40
            for (let i = 27; i <= 40; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                if (i >= 33 && i <= 36) { // Dropdown questions (33-36)
                    const selectEl = document.querySelector(`select[name="${key}"]`);
                    if (selectEl && selectEl.value !== '') {
                        userAnswer = selectEl.value;
                        isCorrect = userAnswer === correctAnswers[key];
                        selectEl.disabled = true;
                    }
                } else { // Radio button questions (27-32, 37-40)
                    const checkedRadio = document.querySelector(`input[name="${key}"]:checked`);
                    if (checkedRadio) {
                        userAnswer = checkedRadio.value;
                        isCorrect = userAnswer === correctAnswers[key];
                        document.querySelectorAll(`input[name="${key}"]`).forEach(radio => {
                            radio.disabled = true;
                        });
                    }
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;
            for (let i = 27; i <= 40; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            // Process questions 33-36 (dropdowns)
            for (let i = 33; i <= 36; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (!selectEl) continue;
                const targetElement = selectEl.parentNode;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }

            // Process questions 27-32, 37-40 (radio buttons)
            for (let i = 27; i <= 40; i++) {
                if (i >= 33 && i <= 36) continue; // Skip dropdowns
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const targetElement = document.querySelector(`[data-question="${i}"] .options`);
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(27);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>