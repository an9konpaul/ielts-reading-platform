<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .loading-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            color: white;
            text-align: center;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .start-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #fff;
            text-align: center;
        }

        .start-content {
            padding: 20px;
        }

        .start-title {
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .start-button {
            padding: 10px 20px;
            font-size: 1.2em;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .start-button:hover {
            background-color: #0056b3;
        }


        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .timer {
            font-size: 1.2em;
        }

        .timer.warning {
            color: red;
        }

        .logo-area {
            cursor: pointer;
            display: flex;
            align-items: center;
        }

        .logo-area i {
            margin-right: 5px;
        }

        .passage-nav {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }

        .btn-passage {
            padding: 8px 16px;
            border: 1px solid #007bff;
            background-color: #f8f9fa;
            cursor: pointer;
            font-size: 0.9em;
        }

        .btn-passage.active {
            background-color: #007bff;
            color: white;
        }

        .main-content {
            display: flex;
            gap: 10px;
            flex: 1;
        }


        .resizer {
            width: 5px;
            background-color: #ddd;
            cursor: col-resize;
        }

        .question-group {
            margin-bottom: 20px;
        }

        .question {
            margin-bottom: 15px;
        }

        .options label {
            display: block;
            margin: 5px 0;
        }

        .summary-select,
        .summary-input {
            width: 100%;
            padding: 5px;
            margin-top: 5px;
        }

        .highlight {
            background-color: yellow;
        }

        #highlight-btn,
        #remove-highlight-btn {
            display: none;
            position: absolute;
            padding: 5px 10px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }

        .nav-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #f8f9fa;
            border-top: 1px solid #ddd;
            padding: 10px;
            position: sticky;
            bottom: 0;
            z-index: 10;
            flex-wrap: wrap;
            gap: 10px;
        }

        .footer__questionWrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer__questionNo {
            padding: 6px 12px;
            border: 1px solid #007bff;
            background-color: #f8f9fa;
            cursor: pointer;
            font-size: 0.85em;
            border-radius: 4px;
        }

        .footer__questionNo.active {
            background-color: #007bff;
            color: white;
        }

        .footer__subquestionWrapper {
            display: flex;
            gap: 3px;
            flex-wrap: wrap;
        }

        .subQuestion {
            width: 24px;
            height: 24px;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
            cursor: pointer;
            text-align: center;
            line-height: 24px;
            font-size: 0.8em;
            border-radius: 4px;
        }

        .subQuestion.answered {
            background-color: #28a745;
            color: white;
        }

        .subQuestion.correct {
            background-color: #28a745;
            color: white;
        }

        .subQuestion.incorrect {
            background-color: #dc3545;
            color: white;
        }

        .subQuestion.current {
            border: 2px solid #007bff;
        }

        .attemptedCount {
            margin-left: 5px;
            font-size: 0.8em;
            color: #555;
        }

        .navigation-buttons {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-secondary:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .footer__deliverButton {
            padding: 8px 16px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .footer__deliverButton:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        .score-display {
            font-size: 2em;
            margin: 20px 0;
        }

        .score-breakdown {
            margin-bottom: 20px;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .answer-indicator {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }

        .answer-indicator.correct {
            background-color: #d4edda;
            color: #155724;
        }

        .answer-indicator.incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        .hidden {
            display: none;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .timer.warning {
            color: #ff4444;
            font-weight: bold;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                opacity: 1;
            }
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .highlight {
            background-color: yellow;
        }

        #highlight-btn,
        #remove-highlight-btn {
            display: none;
            position: absolute;
            padding: 5px 10px;
            background-color: #ffffff;
            color: rgb(12, 12, 12);
            border: none;
            cursor: pointer;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        .passage-nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }

        .btn-passage {
            padding: 8px 16px;
            cursor: pointer;
            border: 1px solid #ccc;
            background: #f9f9f9;
            border-radius: 4px;
        }

        .btn-passage.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>




<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('http://IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage">
                    <h3>Kinesics</h3>
                    <p><strong>A</strong><br>Psychology is a well-established subject, but one area of it, 'kinesics' –
                        the study of body language – was not identified until 1952, and research only began in earnest
                        in the 1960s. Kinesics is based on the behavioural patterns of non-verbal communication.
                        Clinical studies have revealed the extent to which body language can actually contradict verbal
                        communications. A classic example is the young woman who told her psychiatrist that she loved
                        her boyfriend very much while shaking her head from side to side in subconscious denial.</p>
                    <p><strong>B</strong><br>Body language also sheds light on the dynamics of interfamily
                        relationships. A family sitting together can give a revealing picture of itself simply by the
                        way its members move their arms and legs. If the mother, for example, crosses her legs first and
                        the rest of the family then follows suit, she has set the lead for the family action, though
                        she, as well as the rest of the family, may not be aware she is doing it. In fact, her words
                        deny her leadership as she asks her husband or children for advice. But the unspoken,
                        follow-the-leader clue in the actions of the family members give the family set-up away to
                        someone knowledgeable in kinesics.</p>
                    <p><strong>C</strong><br>Another kinesic signal is the unconscious widening of a person’s pupils
                        when their eyes see something pleasant. Experiments have shown that we become aware of how that
                        person feels, although we are conscious neither of seeing the signal nor of giving it meaning.
                    </p>
                    <p><strong>D</strong><br>This kinesic principle has been used on a commercial level to detect the
                        effect of a television advertisement. While the ad is being shown to a selected audience, their
                        eyes are photographed. Later, the film is carefully studied to detect just when there is any
                        widening of the eye; in other words, when there is any unconscious, positive response to the
                        advertisement.</p>
                    <p><strong>E</strong><br>Body language can include any voluntary or involuntary movement of a part
                        or all of the body, used by a person to communicate an emotional message to the outside world.
                        To understand this unspoken body language, kinesics experts often have to take into
                        consideration cultural and environmental differences. The average person, unschooled in cultural
                        nuances of body language, is often mistaken when decoding what he or she sees.</p>
                    <p><strong>F</strong><br>In addition to sending and receiving messages, body language can also serve
                        to break through defenses, if it used skillfully. Often the swiftest and most obvious type of
                        body language is touch. The touch of a hand, or an arm around someone’s shoulder, can spell a
                        more vivid and direct message of friendliness than dozens of words. But such a touch must come
                        at the right moment and in the right context, or the other person may take it as an intrusion to
                        his or her personal space. For every situation there must be two elements to body language: the
                        delivery of the message and the reception of the message.</p>
                    <p><strong>G</strong><br>However, some people are ‘touchers’, compulsive touchers, who seem
                        completely impervious to all messages they may get from friends and acquaintances. They are
                        people who will touch others even though they are bombarded with body-language requests not to.
                        There are also people who avoid touching others altogether.</p>
                    <p><strong>H</strong><br>We act out our state of being with non-verbal language. We lift one eyebrow
                        for disbelief, shrug our shoulders for indifference, tap our fingers for impatience. The
                        gestures are numerous, and while some are deliberate and others are almost deliberate, there are
                        some, such as rubbing under noses for puzzlement or clasping our arms to protect ourselves, that
                        are mostly unconscious. Kinesics is a study of the mixture of all body movements, from the very
                        deliberate to the completely unconscious, from those that apply only in one culture to those
                        that cut across cultural barriers.</p>

                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 1-14</h2>
                <p>You should spend about 20 minutes on Questions 1–14, which are based on Reading Passage 3.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 1-8</div>
                    <p>The reading passage has eight paragraphs A-H.<br>
                        Choose the correct heading for each paragraph from the list of headings below.<br>
                        Write the correct number, i-xi, in boxes 1-8 on your answer sheet.</p>
                    <p><strong>List of Headings</strong><br>
                        i How the study of body language has changed<br>
                        ii A possible business application of body language<br>
                        iii Using body language as a tool to deceive others<br>
                        iv Communicating a wide range of messages<br>
                        v A branch of an older academic field<br>
                        vi The need for skill when interpreting body language<br>
                        vii Recognizing a positive attitude without realizing it<br>
                        viii How power is linked with certain family roles<br>
                        ix Imitating the chief person in a group<br>
                        x Ignoring signals from other people<br>
                        xi Ignoring signals from other people</p>
                    <div class="question" data-question="1">
                        <div class="question-text">1. Paragraph A</div>
                        <select name="q1" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="2">
                        <div class="question-text">2. Paragraph B</div>
                        <select name="q2" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="3">
                        <div class="question-text">3. Paragraph C</div>
                        <select name="q3" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</ “ </select>
                    </div>
                    <div class="question" data-question="4">
                        <div class="question-text">4. Paragraph D</div>
                        <select name="q4" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="5">
                        <div class="question-text">5. Paragraph E</div>
                        <select name="q5" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="6">
                        <div class="question-text">6. Paragraph F</div>
                        <select name="q6" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="7">
                        <div class="question-text">7. Paragraph G</div>
                        <select name="q7" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="8">
                        <div class="question-text">8. Paragraph H</div>
                        <select name="q8" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 9-13</div>
                    <p>Do the following statements reflect the claims of the writer in the reading passage?<br>
                        Write<br>
                        <strong>YES</strong> if the statement reflects the claims of the writer<br>
                        <strong>NO</strong> if the statement contradicts the claims of the writer<br>
                        <strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this
                    </p>
                    <div class="question" data-question="9">
                        <div class="question-text">9. Little work was done in the field of kinesics for the first few
                            years after the subject had been identified.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q9" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q9" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q9" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="10">
                        <div class="question-text">10. Family leaders consistently show their dominance through speech
                            and body language.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q10" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q10" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q10" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="11">
                        <div class="question-text">11. The use of kinesics in connection with television advertising has
                            increased sales of products.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q11" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q11" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q11" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="12">
                        <div class="question-text">12. Touching may be regarded as an unwelcome gesture.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q12" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q12" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q12" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="13">
                        <div class="question-text">13. Most signals with the same meaning in all cultures are
                            unconscious.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q13" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q13" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q13" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Question 14</div>
                    <p>Choose the correct letter, <strong>A</strong>, <strong>B</strong>, <strong>C</strong> or
                        <strong>D</strong>.<br>
                        Write your answer in box 14 on your answer sheet.
                    </p>
                    <div class="question" data-question="14">
                        <div class="question-text">14. The writer’s intention is</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q14" value="A">A - to present recent
                                findings in kinesics to specialists</label>
                            <label class="option"><input type="radio" name="q14" value="B">B - to introduce kinesics to
                                general readers</label>
                            <label class="option"><input type="radio" name="q14" value="C">C - to examine weaknesses in
                                kinesics</label>
                            <label class="option"><input type="radio" name="q14" value="D">D - to identify the
                                scientific basis of kinesics</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="1">1</div>
                    <div class="progress-item" data-question="2">2</div>
                    <div class="progress-item" data-question="3">3</div>
                    <div class="progress-item" data-question="4">4</div>
                    <div class="progress-item" data-question="5">5</div>
                    <div class="progress-item" data-question="6">6</div>
                    <div class="progress-item" data-question="7">7</div>
                    <div class="progress-item" data-question="8">8</div>
                    <div class="progress-item" data-question="9">9</div>
                    <div class="progress-item" data-question="10">10</div>
                    <div class="progress-item" data-question="11">11</div>
                    <div class="progress-item" data-question="12">12</div>
                    <div class="progress-item" data-question="13">13</div>
                    <div class="progress-item" data-question="14">14</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 1-14
        const correctAnswers = {
            q1: "v",
            q2: "viii",
            q3: "vii",
            q4: "ii",
            q5: "vi",
            q6: "iv",
            q7: "xi",
            q8: "ix",
            q9: "YES",
            q10: "NO",
            q11: "NOT GIVEN",
            q12: "YES",
            q13: "NO",
            q14: "B"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 1;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 1;
            nextBtn.disabled = num >= 14;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 1) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 14) scrollToQuestion(currentQuestion + 1);
        });

        document.querySelectorAll('select, input[type="radio"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};
            for (let i = 1; i <= 14; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                const radioEl = document.querySelector(`input[name="${key}"]:checked`);
                if (selectEl) {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                } else if (radioEl) {
                    userAnswer = radioEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    document.querySelectorAll(`input[name="${key}"]`).forEach(r => r.disabled = true);
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
                console.log(`Question ${key}: User Answer = "${userAnswer}", Correct Answer = "${correctAnswers[key]}", Is Correct = ${isCorrect}`);
            }
            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;
            for (let i = 1; i <= 14; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());
            for (let i = 1; i <= 14; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) {
                    console.error(`No result found for question ${key}`);
                    continue;
                }
                let targetElement;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                const radioGroup = document.querySelector(`input[name="${key}"]`);
                if (selectEl) {
                    targetElement = selectEl.closest('.question');
                } else if (radioGroup) {
                    targetElement = radioGroup.closest('.question');
                }
                if (!targetElement) {
                    console.error(`No question container found for ${key}`);
                    continue;
                }
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                try {
                    targetElement.appendChild(div);
                } catch (e) {
                    console.error(`Error appending indicator for question ${key}: ${e.message}`);
                }
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(1);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>