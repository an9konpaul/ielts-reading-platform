
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Test - Passage 2: The Importance of Law</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>

<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>
    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTS withJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTS with Jurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>
        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>
        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage">
                    <p>Charles Darwin, the brilliant anthropologist and creator of the theory of evolution, is not
                        normally associated with the modern business world. Nevertheless, Darwinian evolutionary theory
                        is the foundation of a new wave of ideas about human behavior in general and particularly the
                        way people behave in the workplace; these ideas have given the title of 'evolutionary
                        psychology'.</p>
                    <p>Evolutionary psychology revolves around the notion that our brains, like our bodies, have an
                        inherited evolutionary design that has scarcely changed for 10,000 years. As respected
                        evolutionary psychology experts Leda Cosmides and John Tooby comment, our modern skulls house a
                        Stone Age mind.' The US biologist Edward O Wilson sees evolutionary psychology as being a
                        discipline which is based on both socio-biology, which is the study of the biological basis of
                        social behavior, and psychology, which is the systematic study of human behavior.</p>
                    <p>Nigel Nicholson, an organisational psychologist from the London Business School, is a strong
                        supporter of evolutionary psychology and on this subject has published Managing the Human
                        Animal. His book takes the reader on a journey from the Stone Age plains of the savannah to the
                        modern office, and includes a discussion of Darwinism and behavioural psychology together with a
                        dissection of dysfunctional organisational behavior. It is an effective approach explaining why
                        people behave as they do, particularly at work. Evolutionary psychology is increasingly being
                        cited in management circles, where managers are trying to understand puzzling aspects of human
                        behaviour and by doing so improve the workplace. Nicholson believes that evolutionary psychology
                        can help managers understand what goes wrong in organisational life and what they can do about
                        it.</p>
                    <p>Nicholson maintains that evolutionary psychology dismisses the long-held assumption that our
                        minds are like blank pages just waiting for culture and experience to write on them and shape
                        our nature. He points out that sophisticated research shows the brain actually houses a store of
                        knowledge when we are born, and now genetic research is establishing there are certain genes
                        that account for abilities, tastes and tendencies. The stored knowledge in the human brain has
                        not changed much since the Stone Age. As Tooby and Cosmides stress, there have not been enough
                        generations for a brain that is well adapted to our post-industrial life to evolve through
                        natural selection.</p>
                    <p>The evolutionary psychology version of human nature revolves around some key elements which we
                        have inherited from our hunter-gatherer minds. One key element is emotion. Emotion was
                        originally essential to keep early man alive and safe from predators. Emotion was, and continues
                        to be our radar, guiding us throughout today's techno-defined business world. Despite this, the
                        business world emphasises rational not emotional behaviour, and does not admit the importance of
                        emotion. We still use the emotional part of our minds to make sense of other people's behaviour
                        and to create an impression, so we can often be taken in by appearances. This mental
                        predisposition actually works best in small communities (the tribe), not in much larger
                        environments filled with people we barely know (the modern workplace). Our minds naturally try
                        to re-create our ancestral communities with networks of no more than 150 people, where there are
                        clear hierarchies and leaders. As a consequence, it takes very little to trigger people's innate
                        distrust of others because our safety in antiquity depended on supporting our near family and
                        friends whom we valued more than other people.</p>
                    <p>So what advice does Nicholson have for the corporate world? He thinks that by knowing the reasons
                        for people's behaviour it is possible to mould corporate environments into places that have more
                        chance of working efficiently and being pleasant places to work in. Nicholson admits that not
                        everybody in the business world agrees with his belief in the effectiveness of evolutionary
                        psychology in the workplace. One group that resists the theory of evolutionary psychology is
                        young MBA graduates who are just beginning their careers and feel that evolutionary psychology
                        will make their lives at work more difficult. Older and wiser executives point out that they
                        still tend to cling to the idea of a magic formula to bring people into line with corporate
                        strategy. But that is back-to-front thinking according to Nicholson, who contends that we should
                        be reinventing our business structures, not our fundamental human nature.</p>
                    <p>At the end of his book, Nicholson gives his forecast of what will and will not change in the
                        business world. He believes that most people will still prefer more traditional forms of work
                        and throughout their lives will continue to aim at lifelong status advancement. He also
                        maintains that the line between work and home will be less defined, but that people will prefer
                        traditional working patterns if working from home leaves them isolated from their work
                        community. He doubts that the high-tech ideas of virtual companies will ever be very successful
                        because people will still want to meet each other face-to-face. Nicholson describes his ideal
                        organisation in the future: it would be decentralized, with small sub-units; the staff would be
                        from diverse backgrounds and be allowed a high degree of self-determination. New endeavours and
                        creativity would replace systems and rationality. Nicholson acknowledges that there is a long
                        way to go in terms of the translation of his ideas of evolutionary psychology into practical
                        propositions, but he is confident more and more people will come round to his way of thinking.
                    </p>
                </div>
            </div>
            <div class="resizer" id="resizer"></div>
            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27-40</h2>
                <p>You should spend about 20 minutes on Questions 27-40, which are based on Reading Passage 3.</p>
                <div class="question-section">
                    <div class="question-group">
                        <div class="question-group-title">Questions 27–31</div>
                        <p>Choose the correct letter A, B, C or D. Write the correct letter in boxes 27-31 on your
                            answer sheet.</p>

                        <div class="question" data-question="27">
                            <div class="question-text">27. The writer's purpose in the first paragraph is to</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q27" value="A"> A. oppose the views of
                                    Charles Darwin.</label>
                                <label class="option"><input type="radio" name="q27" value="B"> B. compare experts'
                                    opinions of Darwin's theory.</label>
                                <label class="option"><input type="radio" name="q27" value="C"> C. explain the theory of
                                    evolutionary psychology.</label>
                                <label class="option"><input type="radio" name="q27" value="D"> D. name experts in the
                                    field of evolutionary psychology.</label>
                            </div>
                        </div>

                        <div class="question" data-question="28">
                            <div class="question-text">28. In the third paragraph which view about evolutionary
                                psychology matches Nicholson's opinion?</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q28" value="A"> A. Our characters
                                    determine our career choices.</label>
                                <label class="option"><input type="radio" name="q28" value="B"> B. We begin life without
                                    any preconceived notions.</label>
                                <label class="option"><input type="radio" name="q28" value="C"> C. Our interests and
                                    skills depend on our environment.</label>
                                <label class="option"><input type="radio" name="q28" value="D"> D. We inherit ideas and
                                    characteristics from our ancestors.</label>
                            </div>
                        </div>

                        <div class="question" data-question="29">
                            <div class="question-text">29. The writer discusses the key element of emotion in order to
                            </div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q29" value="A"> A. criticise primitive
                                    survival strategies.</label>
                                <label class="option"><input type="radio" name="q29" value="B"> B. explain attitudes and
                                    actions at work.</label>
                                <label class="option"><input type="radio" name="q29" value="C"> C. demonstrate the
                                    slowness of evolution.</label>
                                <label class="option"><input type="radio" name="q29" value="D"> D. suggest companies
                                    today are poorly structured.</label>
                            </div>
                        </div>

                        <div class="question" data-question="30">
                            <div class="question-text">30. Which of the following does Nicholson predict will happen in
                                the business world?</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q30" value="A"> A. Companies will remain
                                    in city centres.</label>
                                <label class="option"><input type="radio" name="q30" value="B"> B. Promotion will no
                                    longer motivate people.</label>
                                <label class="option"><input type="radio" name="q30" value="C"> C. Employees will be
                                    less independent than now.</label>
                                <label class="option"><input type="radio" name="q30" value="D"> D. Social interaction
                                    will remain important to workers.</label>
                            </div>
                        </div>

                        <div class="question" data-question="31">
                            <div class="question-text">31. Which of the following is the most suitable title for Reading
                                Passage 3?</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q31" value="A"> A. How successful
                                    companies manage change.</label>
                                <label class="option"><input type="radio" name="q31" value="B"> B. Understanding the
                                    origins of workplace behavior.</label>
                                <label class="option"><input type="radio" name="q31" value="C"> C. Darwin's theories
                                    rejected by modern management.</label>
                                <label class="option"><input type="radio" name="q31" value="D"> D. Why post-industrial
                                    organisations need to evolve more quickly.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-group-title">Questions 32–35</div>
                        <p>Do the following statements agree with the views of the writer in Reading Passage 3? In boxes
                            32-35 on your answer sheet, write</p>
                        <p><strong>YES</strong> if the statement agrees with the views of the writer<br>
                            <strong>NO</strong> if the statement contradicts the views of the writer<br>
                            <strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this
                        </p>

                        <div class="question" data-question="32">
                            <div class="question-text">32. Nicholson makes a persuasive argument in his book.</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q32" value="YES"> YES</label>
                                <label class="option"><input type="radio" name="q32" value="NO"> NO</label>
                                <label class="option"><input type="radio" name="q32" value="NOT GIVEN"> NOT
                                    GIVEN</label>
                            </div>
                        </div>

                        <div class="question" data-question="33">
                            <div class="question-text">33. Tooby and Cosmides believe natural selection through the
                                generations has prepared us well for post-industrial life.</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q33" value="YES"> YES</label>
                                <label class="option"><input type="radio" name="q33" value="NO"> NO</label>
                                <label class="option"><input type="radio" name="q33" value="NOT GIVEN"> NOT
                                    GIVEN</label>
                            </div>
                        </div>

                        <div class="question" data-question="34">
                            <div class="question-text">34. Our reliance on technology causes emotional problems in the
                                workplace.</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q34" value="YES"> YES</label>
                                <label class="option"><input type="radio" name="q34" value="NO"> NO</label>
                                <label class="option"><input type="radio" name="q34" value="NOT GIVEN"> NOT
                                    GIVEN</label>
                            </div>
                        </div>

                        <div class="question" data-question="35">
                            <div class="question-text">35. People today are more trusting than they used to be.</div>
                            <div class="options">
                                <label class="option"><input type="radio" name="q35" value="YES"> YES</label>
                                <label class="option"><input type="radio" name="q35" value="NO"> NO</label>
                                <label class="option"><input type="radio" name="q35" value="NOT GIVEN"> NOT
                                    GIVEN</label>
                            </div>
                        </div>
                    </div>

                    <div class="question-group">
                        <div class="question-group-title">Questions 36–40</div>
                        <p>Complete the summary using the list of words, A-I, below. Write the correct letter, A-I, in
                            boxes 36-40 on your answer sheet.</p>
                        <p><strong>Nicholson's advice to the corporate world</strong></p>
                        <p>Nicholson believes that if we know why people act the way they do, we can change <input
                                type="text" name="q36" class="input-field short-input" maxlength="20"> so employees will
                            work more efficiently. Nicholson's ideas are unwelcome to <input type="text" name="q37"
                                class="input-field short-input" maxlength="20"> but some executives are more open to
                            what evolutionary psychology says. However, these executives still believe that there is a
                            <input type="text" name="q38" class="input-field short-input" maxlength="20"> that will make
                            employees act according to the company's practices. According to Nicholson, these senior
                            executives are engaging in <input type="text" name="q39" class="input-field short-input"
                                maxlength="20"> and we should not try to change <input type="text" name="q40"
                                class="input-field short-input" maxlength="20"> but instead we should change our
                            business structures.
                        </p>

                        <p><strong>List of Words</strong></p>
                        <div class="options">
                            <div class="option"><strong>A</strong> business leaders</div>
                            <div class="option"><strong>B</strong> MBA graduates</div>
                            <div class="option"><strong>C</strong> promotion structures</div>
                            <div class="option"><strong>D</strong> reward strategy</div>
                            <div class="option"><strong>E</strong> magic formula</div>
                            <div class="option"><strong>F</strong> strategic planning</div>
                            <div class="option"><strong>G</strong> back-to-front thinking</div>
                            <div class="option"><strong>H</strong> business environments</div>
                            <div class="option"><strong>I</strong> human nature</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="27">27</div>
                    <div class="progress-item" data-question="28">28</div>
                    <div class="progress-item" data-question="29">29</div>
                    <div class="progress-item" data-question="30">30</div>
                    <div class="progress-item" data-question="31">31</div>
                    <div class="progress-item" data-question="32">32</div>
                    <div class="progress-item" data-question="33">33</div>
                    <div class="progress-item" data-question="34">34</div>
                    <div class="progress-item" data-question="35">35</div>
                    <div class="progress-item" data-question="36">36</div>
                    <div class="progress-item" data-question="37">37</div>
                    <div class="progress-item" data-question="38">38</div>
                    <div class="progress-item" data-question="39">39</div>
                    <div class="progress-item" data-question="40">40</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>
    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>
    <script>
        // --- Updated correctAnswers Object ---
        const correctAnswers = {
            q27: 'C', // Explain the theory of evolutionary psychology
            q28: 'D', // We inherit ideas and characteristics from our ancestors
            q29: 'B', // Explain attitudes and actions at work
            q30: 'D', // Social interaction will remain important to workers
            q31: 'B', // Understanding the origins of workplace behavior
            q32: 'YES', // The passage implies his argument is effective/persuasive
            q33: 'NO', // Tooby and Cosmides stress the opposite - not enough generations
            q34: 'NOT GIVEN', // Not mentioned directly
            q35: 'NO', // Passage suggests innate distrust, implying less trusting now
            q36: 'H', // business environments
            q37: 'B', // MBA graduates
            q38: 'E', // magic formula
            q39: 'G', // back-to-front thinking
            q40: 'I'  // human nature
        };

        // Ensure checkbox handling for multiple answers (q20)
        document.addEventListener('change', function (e) {
            if (e.target.name === 'q20') {
                const checked = document.querySelectorAll('input[name="q20"]:checked');
                if (checked.length > 2) {
                    e.target.checked = false;
                    alert("Please select only TWO options.");
                }
            }
        });

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 27;
        let isResizing = false;
        let seconds = 20 * 60;
        let timerInterval;
        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 27;
            nextBtn.disabled = num >= 40;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 27) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 40) scrollToQuestion(currentQuestion + 1);
        });

        document.querySelectorAll('input, select').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        // --- Corrected submitTest Function ---
        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // --- Scoring Logic for All Questions (27-40) ---
            for (let i = 27; i <= 40; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const correctAnswer = correctAnswers[key];

                // Determine user's answer based on input type
                const selectElement = document.querySelector(`select[name="${key}"]`);
                const inputElement = document.querySelector(`input[name="${key}"]`); // For text inputs and radio buttons
                const radioElements = document.querySelectorAll(`input[name="${key}"]`); // For radio groups

                if (selectElement) {
                    userAnswer = selectElement.value;
                    isCorrect = userAnswer === correctAnswer;
                } else if (inputElement && (inputElement.type === 'text' || inputElement.type === 'radio')) {
                    if (inputElement.type === 'text') {
                        userAnswer = inputElement.value.trim(); // Trim whitespace for text inputs
                        isCorrect = userAnswer.toLowerCase() === correctAnswer.toLowerCase(); // Case-insensitive comparison
                    } else if (inputElement.type === 'radio') {
                        // For radio buttons, check the *checked* one
                        const checkedRadio = document.querySelector(`input[name="${key}"]:checked`);
                        userAnswer = checkedRadio ? checkedRadio.value : '';
                        isCorrect = userAnswer === correctAnswer;
                    }
                } else if (radioElements.length > 0) {
                    // General case for radio groups if not caught above
                    const checkedRadio = Array.from(radioElements).find(r => r.checked);
                    userAnswer = checkedRadio ? checkedRadio.value : '';
                    isCorrect = userAnswer === correctAnswer;
                }

                if (isCorrect) {
                    score++;
                }
                results[key] = { userAnswer, correct: correctAnswer, isCorrect };
            }
            // --- End of Scoring Logic for Questions 27-40 ---

            // Update score display (max 14 points)
            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;

            // Update progress item visuals
            for (let i = 27; i <= 40; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    if (res.isCorrect) {
                        item.classList.add('correct');
                    } else {
                        item.classList.add('incorrect');
                    }
                }
            }

            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        // --- Corrected showCorrectAnswers Function ---
        function showCorrectAnswers() {
            if (!submitted) return;

            // Handle Multiple Choice Questions (27-35)
            for (let i = 27; i <= 35; i++) {
                const qEl = document.querySelector(`.question[data-question="${i}"]`);
                const res = window.testResults[`q${i}`];
                if (!res || !qEl) continue;

                // Remove any existing indicator
                const existingInd = qEl.querySelector('.answer-indicator');
                if (existingInd) existingInd.remove();

                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');

                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer}</strong>`;
                } else {
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${res.userAnswer || 'No answer'}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }

                qEl.appendChild(div);
            }

            // Handle Summary Completion Questions (36-40)
            for (let i = 36; i <= 40; i++) {
                const inputEl = document.querySelector(`input[name="q${i}"]`);
                const res = window.testResults[`q${i}`];
                if (!res || !inputEl) continue;

                // Remove any existing indicator for this input
                const existingInd = inputEl.parentNode.querySelector(`.answer-indicator[data-question="${i}"]`);
                if (existingInd) existingInd.remove();

                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.setAttribute('data-question', i); // Add data-question to identify indicator
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');

                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer}</strong>`;
                } else {
                    const displayAnswer = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${displayAnswer}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }

                inputEl.parentNode.insertBefore(div, inputEl.nextSibling); // Insert after the input field
            }
        }
        // --- End of Corrected showCorrectAnswers Function ---

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(27);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>