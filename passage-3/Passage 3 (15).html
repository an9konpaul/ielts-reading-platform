<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 6px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>



<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
            <div class="passage-info">Passage 3 of 3</div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage3">
                    <h3>Yawning</h3>
                    <p id="P1"><span class="label">A</span> How and why we yawn still presents problems for researchers
                        in an area which has only recently been opened up to study. When Robert R Provine began studying
                        yawning in the 1960s, it was difficult for him to convince research students of the merits of
                        'yawning science'. Although it may appear quirky to some, Provine's decision to study yawning
                        was a logical extension of his research in developmental neuroscience.</p>
                    <p id="P2"><span class="label">B</span> The verb 'to yawn' is derived from the Old English ganien or
                        ginian, meaning to gape or open wide. But in addition to gaping jaws, yawning has significant
                        features that are easy to observe and analyse. Provine 'collected' yawns to study by using a
                        variation of the contagion response*. He asked people to 'think about yawning' and, once they
                        began to yawn, to depress a button that would record from the start of the yawn to the
                        exhalation at its end.</p>
                    <p id="P3"><span class="label">C</span> Provine's early discoveries can be summarized as follows:
                        the yawn is highly stereotyped but not invariant in its duration and form. It is an excellent
                        example of the instinctive 'fixed action pattern' of classical animal-behavior study, or
                        ethology. It is not a reflex short-duration, rapid, proportional response to a simple stimulus,
                        but, once started, a yawn progresses with the inevitability of a sneeze. The standard yawn runs
                        its course over about six seconds on average, but its duration can range from about three
                        seconds to much longer than the average. There are no half-yawns: this is an example of the
                        typical intensity of fixed action patterns and a reason why you cannot stifle yawns. Just like a
                        cough, yawns can come in bouts with a highly variable inter-yawn interval, which is generally
                        about 68 seconds but rarely more than 70. There is no relation between yawn frequency and
                        duration: producers of short or long yawns do not compensate by yawning more or less often.
                        Furthermore, Provine's hypotheses about the form and function of yawning can be tested by three
                        informative yawn variants which can be used to look at the roles of the nose, the mouth and the
                        jaws.</p>
                    <p id="P4"><span class="label">D</span> i) The closed nose yawn. Subjects are asked to pinch their
                        nose closed when they feel themselves start to yawn. Most subjects report being able to perform
                        perfectly normal closed nose yawns. This indicates that the inhalation at the onset of a yawn,
                        and the exhalation at its end, need not involve the nostrils - the mouth provides a sufficient
                        airway.</p>
                    <p id="P5"><span class="label">E</span> ii) The clenched teeth yawn. Subjects are asked to clench
                        their teeth when they feel themselves start to yawn but allow themselves to inhale normally
                        through their open lips and clenched teeth. This variant gives one the sensation of being stuck
                        mid-yawn. This shows that gaping of the jaws is an essential component of the fixed action
                        pattern of the yawn, and unless it is accomplished, the program or pattern will not run to
                        completion. The yawn is also shown to be more than a deep breath, because, unlike normal
                        breathing, inhalation and exhalation cannot be performed so well through the clenched teeth as
                        through the nose.</p>
                    <p id="P6"><span class="label">F</span> iii) The nose yawn. This variant tests the adequacy of the
                        nasal airway to sustain a yawn. Unlike normal breathing, which can be performed equally well
                        through mouth or nose, yawning is impossible via nasal inhalation alone. As with the clenched
                        teeth yawn, the nose yawn provides the unfulfilling sensation of being stuck in mid-yawn.
                        Exhalation, on the other hand, can be accomplished equally well through nose or mouth. Through
                        this methodology Provine demonstrated that inhalation through the oral airway and the gaping of
                        jaws are necessary for normal yawns. The motor program for yawning will not run to completion
                        without feedback that these parts of the program have been accomplished.</p>
                    <p id="P7"><span class="label">G</span> But yawning is a powerful, generalized movement that
                        involves much more than airway maneuvers and jaw-gaping. When yawning you also stretch your
                        facial muscles, tilt your head back, narrow or close your eyes, produce tears, salivate, open
                        the Eustachian tubes of your middle ear and perform many other, yet unspecified, cardiovascular
                        and respiratory acts. Perhaps the yawn shares components with other behavior. For example, in
                        the yawn a kind of 'slow sneeze' or is the sneeze a 'fast yawn'? Both share common respiratory
                        and other features including jaw gaping, eye closing and head tilting.</p>
                    <p id="P8"><span class="label">H</span> Yawning and stretching share properties and may be performed
                        together as parts of a global motor complex. Studies by J.I.P. deVries et al. in the early
                        1980s, charting movement in the developing fetus using ultrasound, observed a link between
                        yawning and stretching. The most extraordinary demonstration of the yawn-stretch linkage occurs
                        in many people paralyzed on one side of their body because of brain damage caused by a stroke,
                        the prominent British neurologist Sir Francis Walshe noted in 1923 that when these people yawn,
                        they are startled and mystified to observe that their otherwise paralyzed arm rises and flexes
                        automatically in what neurologists term an 'associated response'. Yawning apparently activates
                        undamaged, unconsciously controlled connections between the brain and the motor system, causing
                        the paralyzed limb to move. It is not known whether the associated response is a positive
                        prognosis for recovery, nor whether yawning is therapeutic for prevention of muscular
                        deterioration.</p>
                    <p id="P9"><span class="label">I</span> Provine speculated that, in general, yawning may have many
                        functions, and selecting a single function from the available options may be an unrealistic
                        goal. Yawning appears to be associated with a change of behavioral state, switching from one
                        activity to another. Yawning is also a reminder that ancient and unconscious behavior linking us
                        to the animal world lurks beneath the veneer of culture, rationality and language.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27-40</h2>
                <p>You should spend about 20 minutes on Questions 27–40, which are based on Reading Passage 3.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 27-32</div>
                    <p>Complete the summary below using the list of words, A-K, below. Write the correct letter, A-K, in
                        boxes <strong>27-32</strong> on your answer sheet.</p>
                    <p><strong>Provine's early findings on yawns</strong><br>
                        Through his observation of yawns, Provine was able to confirm that <span
                            class="question-text">27</span> <select name="q27">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select> do not exist. Just like a <span class="question-text">28</span> <select name="q28">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select>, yawns cannot be interrupted after they have begun. This is because yawns occur as a
                        <span class="question-text">29</span> <select name="q29">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select> rather than a stimulus response as was previously thought. In measuring the time taken
                        to yawn, Provine found that a typical yawn lasts about <span class="question-text">30</span>
                        <select name="q30">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select>. He also found that it is common for people to yawn a number of times in quick
                        succession with the yawns usually being around <span class="question-text">31</span> <select
                            name="q31">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select> apart. When studying whether length and rate were connected, Provine concluded that
                        people who yawn less do not necessarily produce <span class="question-text">32</span> <select
                            name="q32">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. form and function</option>
                            <option value="B">B. long yawns</option>
                            <option value="C">C. 3 seconds</option>
                            <option value="D">D. reflex</option>
                            <option value="E">E. 68 seconds</option>
                            <option value="F">F. short yawns</option>
                            <option value="G">G. sneeze</option>
                            <option value="H">H. half-yawns</option>
                            <option value="I">I. short duration</option>
                            <option value="J">J. fixed action pattern</option>
                            <option value="K">K. 6 seconds</option>
                        </select> to make up for this.
                    </p>
                    <p><strong>List of Words:</strong><br>
                        A. form and function<br>
                        B. long yawns<br>
                        C. 3 seconds<br>
                        D. reflex<br>
                        E. 68 seconds<br>
                        F. short yawns<br>
                        G. sneeze<br>
                        H. half-yawns<br>
                        I. short duration<br>
                        J. fixed action pattern<br>
                        K. 6 seconds</p>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 33-37</div>
                    <p>Choose the correct letter, <strong>A, B, C, or D</strong>. Write the correct letter in boxes
                        <strong>33-37</strong> on your answer sheet.
                    </p>
                    <div class="question" data-question="33">
                        <div class="question-text">33. What did Provine conclude from his 'closed nose yawn' experiment?
                        </div>
                        <div class="options">
                            <label><input type="radio" name="q33" value="A"> A. Ending a yawn requires use of the
                                nostrils.</label>
                            <label><input type="radio" name="q33" value="B"> B. You can yawn without breathing through
                                your nose.</label>
                            <label><input type="radio" name="q33" value="C"> C. Breathing through the nose produces a
                                silent yawn.</label>
                            <label><input type="radio" name="q33" value="D"> D. The role of the nose in yawning needs
                                further investigation.</label>
                        </div>
                    </div>
                    <div class="question" data-question="34">
                        <div class="question-text">34. Provine's clenched teeth yawn's experiment shows that</div>
                        <div class="options">
                            <label><input type="radio" name="q34" value="A"> A. yawning is unconnected with
                                fatigue.</label>
                            <label><input type="radio" name="q34" value="B"> B. a yawn is the equivalent of a deep
                                intake of breath.</label>
                            <label><input type="radio" name="q34" value="C"> C. you have to be able to open your mouth
                                wide to yawn.</label>
                            <label><input type="radio" name="q34" value="D"> D. breathing with the teeth together is as
                                efficient as through the nose.</label>
                        </div>
                    </div>
                    <div class="question" data-question="35">
                        <div class="question-text">35. The nose yawn experiment was used to test whether yawning</div>
                        <div class="options">
                            <label><input type="radio" name="q35" value="A"> A. can be stopped after it has
                                started.</label>
                            <label><input type="radio" name="q35" value="B"> B. is the result of motor
                                programming.</label>
                            <label><input type="radio" name="q35" value="C"> C. involves both inhalation and
                                exhalation.</label>
                            <label><input type="radio" name="q35" value="D"> D. can be accomplished only through the
                                nose.</label>
                        </div>
                    </div>
                    <div class="question" data-question="36">
                        <div class="question-text">36. In people paralyzed on one side because of brain damage</div>
                        <div class="options">
                            <label><input type="radio" name="q36" value="A"> A. yawning may involve only one side of the
                                face.</label>
                            <label><input type="radio" name="q36" value="B"> B. the yawning response indicates that
                                recovery is likely.</label>
                            <label><input type="radio" name="q36" value="C"> C. movement in paralyzed arm is stimulated
                                by yawning.</label>
                            <label><input type="radio" name="q36" value="D"> D. yawning can be used as an example to
                                prevent muscle wasting.</label>
                        </div>
                    </div>
                    <div class="question" data-question="37">
                        <div class="question-text">37. In the last paragraph, the writer concludes that</div>
                        <div class="options">
                            <label><input type="radio" name="q37" value="A"> A. yawning is a sign of boredom.</label>
                            <label><input type="radio" name="q37" value="B"> B. we yawn in spite of the development of
                                our species.</label>
                            <label><input type="radio" name="q37" value="C"> C. yawning is a more passive activity than
                                we imagine.</label>
                            <label><input type="radio" name="q37" value="D"> D. we are stimulated to yawn when our brain
                                activity is low.</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 38-40</div>
                    <p>Do the following statements agree with the claims of the writer in Reading Passage 3? In boxes
                        <strong>38-40</strong> on your answer sheet, write:<br>
                        <strong>YES</strong> – if the statement agrees with the claims of the writer<br>
                        <strong>NO</strong> – if the statement contradicts the claims of the writer<br>
                        <strong>NOT GIVEN</strong> – if it is impossible to say what the writer thinks about this
                    </p>
                    <div class="question" data-question="38">
                        <div class="question-text">38. Research students were initially reluctant to appreciate the
                            value of Provine's studies.</div>
                        <div class="options">
                            <label><input type="radio" name="q38" value="YES"> YES</label>
                            <label><input type="radio" name="q38" value="NO"> NO</label>
                            <label><input type="radio" name="q38" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="39">
                        <div class="question-text">39. When fetuses yawn and stretch they are learning how to control
                            movement.</div>
                        <div class="options">
                            <label><input type="radio" name="q39" value="YES"> YES</label>
                            <label><input type="radio" name="q39" value="NO"> NO</label>
                            <label><input type="radio" name="q39" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                    <div class="question" data-question="40">
                        <div class="question-text">40. According to Provine, referring to only one function is probably
                            inadequate to explain why people yawn.</div>
                        <div class="options">
                            <label><input type="radio" name="q40" value="YES"> YES</label>
                            <label><input type="radio" name="q40" value="NO"> NO</label>
                            <label><input type="radio" name="q40" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="27">27</div>
                    <div class="progress-item" data-question="28">28</div>
                    <div class="progress-item" data-question="29">29</div>
                    <div class="progress-item" data-question="30">30</div>
                    <div class="progress-item" data-question="31">31</div>
                    <div class="progress-item" data-question="32">32</div>
                    <div class="progress-item" data-question="33">33</div>
                    <div class="progress-item" data-question="34">34</div>
                    <div class="progress-item" data-question="35">35</div>
                    <div class="progress-item" data-question="36">36</div>
                    <div class="progress-item" data-question="37">37</div>
                    <div class="progress-item" data-question="38">38</div>
                    <div class="progress-item" data-question="39">39</div>
                    <div class="progress-item" data-question="40">40</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 27-40 (based on the provided image)
        const correctAnswers = {
            q27: "H", // half-yawns
            q28: "G", // sneeze
            q29: "J", // fixed action pattern
            q30: "K", // 6 seconds
            q31: "E", // 68 seconds
            q32: "F", // short yawns
            q33: "B", // You can yawn without breathing through your nose
            q34: "C", // you have to be able to open your mouth wide to yawn
            q35: "D", // can be accomplished only through the nose
            q36: "C", // movement in paralyzed arm is stimulated by yawning
            q37: "B", // we yawn in spite of the development of our species
            q38: "YES",
            q39: "NOT GIVEN",
            q40: "YES"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 27;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes for Passage 3
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.querySelector('.passage-container');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`) || document.querySelector(`select[name="q${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 27;
            nextBtn.disabled = num >= 40;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 27) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 40) scrollToQuestion(currentQuestion + 1);
        });

        // Event listener for marking questions as answered
        document.querySelectorAll('select, input[type="radio"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        const value = input.tagName === 'INPUT' ? input.value : input.value;
                        if (value) {
                            item.classList.add('answered');
                        }
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // Process questions 27-40
            for (let i = 27; i <= 40; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                if (i <= 32) { // Dropdown questions (27-32)
                    const selectEl = document.querySelector(`select[name="${key}"]`);
                    if (selectEl && selectEl.value !== '') {
                        userAnswer = selectEl.value;
                        isCorrect = userAnswer === correctAnswers[key];
                        selectEl.disabled = true;
                    }
                } else if (i <= 37) { // Radio button questions (33-37)
                    const checkedRadio = document.querySelector(`input[name="${key}"]:checked`);
                    if (checkedRadio) {
                        userAnswer = checkedRadio.value;
                        isCorrect = userAnswer === correctAnswers[key];
                        document.querySelectorAll(`input[name="${key}"]`).forEach(radio => {
                            radio.disabled = true;
                        });
                    }
                } else { // Yes/No/Not Given questions (38-40)
                    const checkedRadio = document.querySelector(`input[name="${key}"]:checked`);
                    if (checkedRadio) {
                        userAnswer = checkedRadio.value;
                        isCorrect = userAnswer === correctAnswers[key];
                        document.querySelectorAll(`input[name="${key}"]`).forEach(radio => {
                            radio.disabled = true;
                        });
                    }
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;
            for (let i = 27; i <= 40; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            // Process questions 27-32 (dropdowns)
            for (let i = 27; i <= 32; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (!selectEl) continue;
                const targetElement = selectEl.parentNode;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }

            // Process questions 33-40 (radio buttons)
            for (let i = 33; i <= 40; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const targetElement = document.querySelector(`[data-question="${i}"] .options`);
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(27);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>