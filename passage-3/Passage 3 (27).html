<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary,
        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover,
        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 180px;
            margin: 0 6px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
        }

        .summary-select {
            padding: 4px 8px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            margin: 0 4px;
            font-size: 0.9rem;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
        }
    </style>
</head>

<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek – Reading Passage 3</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage">
                    <h3>The Significant Role of Mother Tongue in Education</h3>
                    <p>One consequence of population mobility is an increasing diversity within schools. To illustrate,
                        in the city of Toronto in Canada, 58% of kindergarten pupils come from homes where English is
                        not the usual language of communication. Schools in Europe and North America have experienced
                        this diversity for years, and educational policies and practices vary widely between countries
                        and even within countries. Some political parties and groups search for ways to solve the
                        problem of diverse communities and their integration in schools and society. However, they see
                        few positive consequences for the host society and worry that this diversity threatens the
                        identity of the host society. Consequently, they promote unfortunate educational policies that
                        will make the "problem" disappear. If students retain their culture and language, they are
                        viewed as less capable of identifying with the mainstream culture and learning the mainstream
                        language of the society.</p>

                    <p>The challenge for educator and policy-makers is to shape the evolution of national identity in
                        such a way that rights of all citizens (including school children) are respected, and the
                        cultural linguistic, and economic resources of the nation are maximised. To waste the resources
                        of the nation by discouraging children from developing their mother tongues is quite simply
                        unintelligent from the point of view of national self-interest. A first step in providing an
                        appropriate education for culturally and linguistically diverse children is to examine what the
                        existing research says about the role of children's mother tongues in their educational
                        development.</p>

                    <p>In fact, the research is very clear. When children continue to develop their abilities in two or
                        more languages throughout their primary school, they gain a deeper understanding of language and
                        how to use it effectively. They have more practice in processing language, especially when they
                        develop literacy in both. More than 150 research studies conducted during the past 25 years
                        strongly support what Goethe, the famous eighteenth-century German philosopher, once said: the
                        person who knows only one language does not truly know that language. Research suggests that
                        bilingual children may also develop more flexibility in their thinking as a result of processing
                        information through two different languages.</p>

                    <p>The level of development of children's mother tongue is a strong predictor of their second
                        language development. Children who come to school with a solid foundation in their mother tongue
                        develop stronger literacy abilities in the school language. When parents and other caregivers
                        (e.g. grandparents) are able to spend time with their children and tell stories or discuss
                        issues with them in a way that develops their mother tongue, children come to school
                        well-prepared to learn the school language and succeed educationally. Children's knowledge and
                        skills transfer across languages from the mother tongue to the school language. Transfer across
                        languages can be two-way: both languages nurture each other when the educational environment
                        permits children access to both languages.</p>

                    <p>Some educators and parents are suspicious of mother tongue-based teaching programs because they
                        worry that they take time away from the majority language. For example, in a bilingual program
                        when 50% of the time is spent teaching through children's home language and 50% through the
                        majority language, surely children won't progress as far in the latter? One of the most strongly
                        established findings of educational research, however, is that well-implemented bilingual
                        programs can promote literacy and subject-matter knowledge in a minority language without any
                        negative effects on children's development in the majority language. Within Europe, the Foyer
                        program in Belgium, which develops children's speaking and literacy abilities in three languages
                        (their mother tongue, Dutch and French), most clearly illustrates the benefits of bilingual and
                        trilingual education. It is easy to understand how this happens. When children are learning
                        through a minority language, they are learning concepts and intellectual skills too. Pupils who
                        know how to tell the time in their mother tongue understand the concept of telling time. In
                        order to tell time in the majority language, they do not need to re-learn the concept.
                        Similarly, at more advanced stages, there is transfer across languages in other skills such as
                        knowing how to distinguish the main idea from the supporting details of a written passage or
                        story, and distinguishing fact from opinion. Studies of secondary school pupils are providing
                        interesting findings in this area, and it would be worth extending this research.</p>

                    <p>Many people marvel at how quickly bilingual children seem to "pick up" conversational skills in
                        the majority language at school (although it takes much longer for them to catch up with native
                        speakers in academic language skills). However, educators are often much less aware of how
                        quickly children can lose their ability to use their mother tongue, even in the home context.
                        The extent and rapidity of language loss will vary according to the concentration of families
                        from a particular linguistic group in the neighborhood. Where the mother tongue is used
                        extensively in the community, then language loss among young children will be less. However,
                        where language communities are not concentrated in particular neighborhoods, children can lose
                        their ability to communicate in their mother tongue within 2–3 years of starting school. They
                        may retain receptive skills in the language but they will use the majority language in speaking
                        with their peers and siblings and in responding to their parents. By the time children become
                        adolescents, the linguistic division between parents and children has become an emotional chasm.
                        Pupils frequently become alienated from the cultures of both home and school with predictable
                        results.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27–40</h2>
                <p>You should spend about 20 minutes on Questions 27–40, which are based on Reading Passage 3.</p>

                <!-- 27–30 Multiple choice -->
                <div class="question-group">
                    <div class="question-group-title">Questions 27–30</div>
                    <p>Choose the correct letter, A, B, C or D.<br>
                        Write the correct letter in boxes 27–30 on your answer sheet.</p>

                    <div class="question" data-question="27">
                        <div class="question-text">27. What point did the writer make in the second paragraph?</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q27" value="A">
                                A. Some present studies on children's mother tongues are misleading</label>
                            <label class="option"><input type="radio" name="q27" value="B">
                                B. A culturally rich education programme benefits some children more than others</label>
                            <label class="option"><input type="radio" name="q27" value="C">
                                C. Bilingual children can make a valuable contribution to the wealth of a country</label>
                            <label class="option"><input type="radio" name="q27" value="D">
                                D. The law on mother tongue use at school should be strengthened</label>
                        </div>
                    </div>

                    <div class="question" data-question="28">
                        <div class="question-text">28. Why does the writer refer to something that Goethe said?</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q28" value="A">
                                A. to lend weight to his argument</label>
                            <label class="option"><input type="radio" name="q28" value="B">
                                B. to contradict some research</label>
                            <label class="option"><input type="radio" name="q28" value="C">
                                C. to introduce a new concept</label>
                            <label class="option"><input type="radio" name="q28" value="D">
                                D. to update current thinking</label>
                        </div>
                    </div>

                    <div class="question" data-question="29">
                        <div class="question-text">29. The writer believes that when young children have a firm grasp of
                            their mother tongue</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q29" value="A">
                                A. they can teach older family members what they learnt at school</label>
                            <label class="option"><input type="radio" name="q29" value="B">
                                B. they go on to do much better throughout their time at school</label>
                            <label class="option"><input type="radio" name="q29" value="C">
                                C. they can read stories about their cultural background</label>
                            <label class="option"><input type="radio" name="q29" value="D">
                                D. they develop stronger relationships with their family than with their peers</label>
                        </div>
                    </div>

                    <div class="question" data-question="30">
                        <div class="question-text">30. Why are some people suspicious about mother tongue-based teaching
                            programmes?</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q30" value="A">
                                A. They worry that children will be slow to learn to read in either language</label>
                            <label class="option"><input type="radio" name="q30" value="B">
                                B. They think that children will confuse words in the two languages</label>
                            <label class="option"><input type="radio" name="q30" value="C">
                                C. They believe that the programmes will make children less interested in their lessons</label>
                            <label class="option"><input type="radio" name="q30" value="D">
                                D. They fear that the programmes will use up valuable time in the school day</label>
                        </div>
                    </div>
                </div>

                <!-- 31–35 Summary completion with A–J -->
                <div class="question-group">
                    <div class="question-group-title">Questions 31–35</div>
                    <p>Complete the summary using the list of words, A–J, below.<br>
                        Write the correct letter, A–J, in boxes 31–35 on your answer sheet.</p>

                    <p><strong>List of Words</strong><br>
                        A – teachers<br>
                        B – schools<br>
                        C – dislocation<br>
                        D – rate<br>
                        E – time<br>
                        F – family<br>
                        G – communication<br>
                        H – type<br>
                        I – ability<br>
                        J – area
                    </p>

                    <p><strong>Bilingual Children</strong></p>
                    <p>It was often recorded that bilingual children acquire the
                        <select name="q31" class="summary-select">
                            <option value="">Select</option>
                            <option value="A">A. teachers</option>
                            <option value="B">B. schools</option>
                            <option value="C">C. dislocation</option>
                            <option value="D">D. rate</option>
                            <option value="E">E. time</option>
                            <option value="F">F. family</option>
                            <option value="G">G. communication</option>
                            <option value="H">H. type</option>
                            <option value="I">I. ability</option>
                            <option value="J">J. area</option>
                        </select>
                        to converse in the majority language remarkable quickly. The fact that the mother tongue can
                        disappear at a similar
                        <select name="q32" class="summary-select">
                            <option value="">Select</option>
                            <option value="A">A. teachers</option>
                            <option value="B">B. schools</option>
                            <option value="C">C. dislocation</option>
                            <option value="D">D. rate</option>
                            <option value="E">E. time</option>
                            <option value="F">F. family</option>
                            <option value="G">G. communication</option>
                            <option value="H">H. type</option>
                            <option value="I">I. ability</option>
                            <option value="J">J. area</option>
                        </select>
                        is less well understood. This phenomenon depends, to a certain extent, on the proportion of
                        people with the same linguistic background that have settled in a particular
                        <select name="q33" class="summary-select">
                            <option value="">Select</option>
                            <option value="A">A. teachers</option>
                            <option value="B">B. schools</option>
                            <option value="C">C. dislocation</option>
                            <option value="D">D. rate</option>
                            <option value="E">E. time</option>
                            <option value="F">F. family</option>
                            <option value="G">G. communication</option>
                            <option value="H">H. type</option>
                            <option value="I">I. ability</option>
                            <option value="J">J. area</option>
                        </select>.
                        If this is limited, children are likely to lose the active use of their mother tongue. And thus
                        no longer employ it even with
                        <select name="q34" class="summary-select">
                            <option value="">Select</option>
                            <option value="A">A. teachers</option>
                            <option value="B">B. schools</option>
                            <option value="C">C. dislocation</option>
                            <option value="D">D. rate</option>
                            <option value="E">E. time</option>
                            <option value="F">F. family</option>
                            <option value="G">G. communication</option>
                            <option value="H">H. type</option>
                            <option value="I">I. ability</option>
                            <option value="J">J. area</option>
                        </select>,
                        although they may still understand it. It follows that teenager children in these circumstances
                        experience a sense of
                        <select name="q35" class="summary-select">
                            <option value="">Select</option>
                            <option value="A">A. teachers</option>
                            <option value="B">B. schools</option>
                            <option value="C">C. dislocation</option>
                            <option value="D">D. rate</option>
                            <option value="E">E. time</option>
                            <option value="F">F. family</option>
                            <option value="G">G. communication</option>
                            <option value="H">H. type</option>
                            <option value="I">I. ability</option>
                            <option value="J">J. area</option>
                        </select>
                        in relation to all aspects of their lives.
                    </p>
                </div>

                <!-- 36–40 YES / NO / NOT GIVEN -->
                <div class="question-group">
                    <div class="question-group-title">Questions 36–40</div>
                    <p>Do the following statements agree with the information given in Reading Passage?</p>
                    <p>In boxes 36–40 on your answer sheet write:<br>
                        <strong>YES</strong> if the statement agrees with the views of the writer<br>
                        <strong>NO</strong> if the statement contradicts the views of the writer<br>
                        <strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this
                    </p>

                    <div class="question" data-question="36">
                        <div class="question-text">36. Less than half of the children who attend kindergarten in Toronto
                            have English as their mother tongue.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q36" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q36" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q36" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="37">
                        <div class="question-text">37. Research proves that learning the host country language at school
                            can have an adverse effect on a child's mother tongue.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q37" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q37" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q37" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="38">
                        <div class="question-text">38. The Foyer program is accepted by the French education system.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q38" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q38" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q38" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="39">
                        <div class="question-text">39. Bilingual children are taught to tell the time earlier than
                            monolingual children.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q39" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q39" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q39" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="40">
                        <div class="question-text">40. Bilingual children can apply reading comprehension strategies
                            acquired in one language when reading in the other.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q40" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q40" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q40" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress & buttons -->
        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="27">27</div>
                    <div class="progress-item" data-question="28">28</div>
                    <div class="progress-item" data-question="29">29</div>
                    <div class="progress-item" data-question="30">30</div>
                    <div class="progress-item" data-question="31">31</div>
                    <div class="progress-item" data-question="32">32</div>
                    <div class="progress-item" data-question="33">33</div>
                    <div class="progress-item" data-question="34">34</div>
                    <div class="progress-item" data-question="35">35</div>
                    <div class="progress-item" data-question="36">36</div>
                    <div class="progress-item" data-question="37">37</div>
                    <div class="progress-item" data-question="38">38</div>
                    <div class="progress-item" data-question="39">39</div>
                    <div class="progress-item" data-question="40">40</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 27–40
        const correctAnswers = {
            q27: "C",
            q28: "A",
            q29: "B",
            q30: "D",
            q31: "I",
            q32: "D",
            q33: "J",
            q34: "F",
            q35: "C",
            q36: "NO",
            q37: "NOT GIVEN",
            q38: "NOT GIVEN",
            q39: "NOT GIVEN",
            q40: "YES"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 27;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList && e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', () => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 27;
            nextBtn.disabled = num >= 40;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 27) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 40) scrollToQuestion(currentQuestion + 1);
        });

        // Mark answered
        document.querySelectorAll('input[type="radio"], select, input[type="text"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            for (let i = 27; i <= 40; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;

                // Radio questions
                const radioEl = document.querySelector(`input[name="${key}"]:checked`);
                if (radioEl) {
                    userAnswer = radioEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    document.querySelectorAll(`input[name="${key}"]`).forEach(r => r.disabled = true);
                }

                // Select questions (31–35)
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (selectEl) {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }

                // Text inputs (not used here but kept for compatibility)
                const textEl = document.querySelector(`input[name="${key}"][type="text"]`);
                if (textEl) {
                    userAnswer = textEl.value.trim();
                    if (userAnswer) {
                        isCorrect = userAnswer.toLowerCase() === correctAnswers[key].toLowerCase();
                    } else {
                        isCorrect = false;
                    }
                    textEl.disabled = true;
                }

                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;

            for (let i = 27; i <= 40; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }

            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            for (let i = 27; i <= 40; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;

                let targetElement;
                const radioGroup = document.querySelector(`input[name="${key}"]`);
                const selectEl = document.querySelector(`select[name="${key}"]`);
                const textEl = document.querySelector(`input[name="${key}"][type="text"]`);

                if (radioGroup) {
                    targetElement = radioGroup.closest('.question');
                } else if (selectEl) {
                    targetElement = selectEl.parentNode;
                } else if (textEl) {
                    targetElement = textEl.closest('.question');
                }

                if (!targetElement) continue;

                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');

                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }

                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(27);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        // Show start screen after loading screen
        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>


</html>
