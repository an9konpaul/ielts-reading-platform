<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 6px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>



<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
            <div class="passage-info">Passage 3 of 3</div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage3">
                    <h3>The Discovery of Slowness</h3>
                    <p id="P1"><span class="label">A</span> The English explorer and writer John Franklin (1786-1847)
                        joined the Navy at the age of 18. The boat is built in Tafelage, where many boats have been used
                        to be attached to Arctic capsules and to participate in solving the construction of the
                        Northwest Passage. A small-scale water route through the ice which would, if it exists, link the
                        Pacific Ocean or America’s West Coast with the Atlantic on its East. The first expedition
                        Franklin led to the Arctic was an official overland colony lasting from 1819 to 1820 in which he
                        and his twenty-two team covered 6890 kilometres on the Torrie expedition as a triumph of
                        surviving – they managed to chart hundreds of kilometers of previously unknown coastline – but
                        local ran out on their journey back to civilisation. At the time they were forced to eat their
                        belts and then boots (which they boiled up to make leather soup).</p>
                    <p id="P2"><span class="label">B</span> There followed a career as a travel writer and public
                        speaker (the man who ate his boots was Franklin’s tag-line). Then in 1845, Franklin set off back
                        to the Arctic with two ships – the Erebus and the Terror – and 129 men. Nothing was heard of
                        them for 14 years, although more than 30 expeditions were performed in search of them.
                        Eventually it was discovered that Franklin and all his team had perished after their ships were
                        trapped in the ice.</p>
                    <p id="P3"><span class="label">C</span> In his personal correspondence and published memoirs,
                        Franklin comes across as a man dedicated to the external duties of war and exploration, who kept
                        introspection and self-analysis to a minimum. His landhouse makes him an amenable malleable
                        subject for a novelist, and Sten Nadolny has taken full advantage of this in his book. Most
                        important, Nadolny has provided John Franklin with a defining trait for which there is no
                        historical evidence: Langsamkeit, or ‘slowness’.</p>
                    <p id="P4"><span class="label">D</span> Slowness influences not only Franklin’s behaviour, but also
                        his vision, his thought and his speech. The opening scene of The Discovery of Slowness depicts
                        Franklin as a young boy, failing to catch a ball because his reaction time is too slow. Despite
                        the bullying of his peers, Franklin resolves not to fall into step with ‘their way of doing
                        things’. For Nadolny, Franklin’s fascination with the Arctic stems from his desire to find an
                        environment suited to his peculiar slowness. He describes Franklin as a boy dreaming of the
                        ‘time without hours and days’ which exists in the far north, a place where nobody would find him
                        too slow.</p>
                    <p id="P5"><span class="label">E</span> Ice is a slow mover: “The compressed blue ice inside an
                        Alpine crevasse will have fallen as snow several decades earlier. Polar pack ice takes at least
                        two years to form. The film of crystals which first appears on the surface of the sea thickens
                        into a silky plant layer called nilas; this in turn consolidates into young ice, which then
                        deepens during several seasons to become pack-ice demands a corresponding patience from those
                        who venture onto it. The explorers who thrive at high latitudes and at high altitudes haven’t
                        usually been men of great speed. They have tended instead to demonstrate unusual
                        self-possession, a considerable capacity for boredom, and a talent for the uncomplaining
                        endurance of suffering.”</p>
                    <p id="P6"><span class="label">F</span> These were all qualities which the historical Franklin
                        possessed in abundance, and so Nadolny’s exaggeration of them isn’t unreasonable. Even as an
                        adult, Franklin’s slowness of thought means that he is unable to speak fluently, so he learns by
                        heart entire fleets of words and batteries of responses, and speaks a languid, ice-blue
                        language. In the Navy, his method of thinking first and acting later initially provokes mockery
                        from his fellow sailors. But Franklin persists in doing things his way, and gradually earns the
                        respect of those around him. “To a commodore who tells him to speed up his report of an
                        engagement, he replies: ‘When I tell something, sir, I use my own rhythm.’ A lieutenant says
                        approvingly of him: ‘Because Franklin is so slow, he never loses time.’</p>
                    <p id="P7"><span class="label">G</span> Nadolny also brings his central metaphor of slowness to bear
                        on the novel’s figures. The chapters describing Franklin’s early years are a medley of separate
                        fragments, rhetorical questions, associative jumps and exclamation marks. In the latter case,
                        recounting Franklin’s first Arctic expedition, Nadolny brilliantly sets the narrative pace to
                        the rhythms of the frozen landscape, and the slowness which is ‘bred by hunger’.</p>
                    <p id="P8"><span class="label">H</span> Since it was first published in Germany in 1983, The
                        Discovery of Slowness has sold more than a million copies and been translated into 15 languages.
                        It has been adopted as a manual and manifesto by European pressure groups and institutions
                        representing causes as diverse as sustainable development, management science and modern policy,
                        even becoming involved in the debate about speed limits on German roads. The various groups that
                        have taken the novel up have one thing in common: a dislike of the high-speed culture of
                        Postmodernity. Nadolny’s Franklin appeals to them because he is immune to the compulsion to be
                        constantly occupied, and to the idea that ‘someone was better if he could do the same thing
                        fast’. It’s easy to see where the attraction lies for those in management. The novel is crammed
                        with quotations about time-efficiency, punctiliousness and profitability: ‘What did too late
                        mean? They hadn’t waited for it long enough, that’s what it meant.’</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27-40</h2>
                <p>You should spend about 20 minutes on Questions 27–40, which are based on Reading Passage 3.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 27-31</div>
                    <p>Reading Passage 3 has eight paragraphs, A–H. Which paragraph contains the following information?
                        Write the correct letter, <strong>A–H</strong>, in boxes <strong>27–31</strong> on your answer
                        sheet.</p>
                    <div class="question" data-question="27">
                        <div class="question-text">27. A summary of Franklin’s occupation in the period before his first
                            expedition</div>
                        <select name="q27">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                    <div class="question" data-question="28">
                        <div class="question-text">28. A reference to a feature of Franklin’s character in Nadolny’s
                            novel that has no definite basis in fact</div>
                        <select name="q28">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                    <div class="question" data-question="29">
                        <div class="question-text">29. A connection between the central theme of the novel and an
                            environmental process</div>
                        <select name="q29">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                    <div class="question" data-question="30">
                        <div class="question-text">30. A reference to the widespread appeal of Nadolny’s novel</div>
                        <select name="q30">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                    <div class="question" data-question="31">
                        <div class="question-text">31. A summary of events following Franklin’s return from his first
                            expedition</div>
                        <select name="q31">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 32-35</div>
                    <p>Complete the summary using the list of words, <strong>A–L</strong>, below. Write the correct
                        letter, <strong>A–L</strong>, in boxes <strong>32–35</strong> on your answer sheet.</p>
                    <p><strong>John Franklin and the Quality of Slowness</strong><br>
                        Little is known from Franklin’s correspondence and published writings about his <span
                            class="question-text">32</span> <select name="q32">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. a bully</option>
                            <option value="B">B. discoveries</option>
                            <option value="C">C. educational</option>
                            <option value="D">D. family</option>
                            <option value="E">E. an outsider</option>
                            <option value="F">F. isolation</option>
                            <option value="G">G. personality</option>
                            <option value="H">H. problems</option>
                            <option value="I">I. a scholar</option>
                            <option value="J">J. remoteness</option>
                            <option value="K">K. sporting</option>
                            <option value="L">L. timelessness</option>
                        </select>. The author, Nadolny, suggests that Franklin’s whole life can be explained by the
                        quality of ‘slowness’. He begins the book by showing how this affects the young Franklin’s <span
                            class="question-text">33</span> <select name="q33">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. a bully</option>
                            <option value="B">B. discoveries</option>
                            <option value="C">C. educational</option>
                            <option value="D">D. family</option>
                            <option value="E">E. an outsider</option>
                            <option value="F">F. isolation</option>
                            <option value="G">G. personality</option>
                            <option value="H">H. problems</option>
                            <option value="I">I. a scholar</option>
                            <option value="J">J. remoteness</option>
                            <option value="K">K. sporting</option>
                            <option value="L">L. timelessness</option>
                        </select> activities, and makes him become <span class="question-text">34</span> <select
                            name="q34">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. a bully</option>
                            <option value="B">B. discoveries</option>
                            <option value="C">C. educational</option>
                            <option value="D">D. family</option>
                            <option value="E">E. an outsider</option>
                            <option value="F">F. isolation</option>
                            <option value="G">G. personality</option>
                            <option value="H">H. problems</option>
                            <option value="I">I. a scholar</option>
                            <option value="J">J. remoteness</option>
                            <option value="K">K. sporting</option>
                            <option value="L">L. timelessness</option>
                        </select>. As a child, it is the quality of <span class="question-text">35</span> <select
                            name="q35">
                            <option value="" disabled selected>Select an option</option>
                            <option value="A">A. a bully</option>
                            <option value="B">B. discoveries</option>
                            <option value="C">C. educational</option>
                            <option value="D">D. family</option>
                            <option value="E">E. an outsider</option>
                            <option value="F">F. isolation</option>
                            <option value="G">G. personality</option>
                            <option value="H">H. problems</option>
                            <option value="I">I. a scholar</option>
                            <option value="J">J. remoteness</option>
                            <option value="K">K. sporting</option>
                            <option value="L">L. timelessness</option>
                        </select> that attracts Franklin to the Arctic.
                    </p>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 36-40</div>
                    <p>Choose the correct letter, <strong>A, B, C, or D</strong>. Write the correct letter in boxes
                        <strong>36–40</strong> on your answer sheet.
                    </p>
                    <div class="question" data-question="36">
                        <div class="question-text">36. In paragraph E, the writer describes different types of ice in
                            order to illustrate</div>
                        <div class="options">
                            <label><input type="radio" name="q36" value="A"> A. the extreme conditions that Polar
                                explorers have to face.</label>
                            <label><input type="radio" name="q36" value="B"> B. the unusual quality of the beauty of
                                Polar regions.</label>
                            <label><input type="radio" name="q36" value="C"> C. the vital importance of preserving the
                                Arctic environment.</label>
                            <label><input type="radio" name="q36" value="D"> D. the personal qualities required of an
                                explorer in Arctic conditions.</label>
                        </div>
                    </div>
                    <div class="question" data-question="37">
                        <div class="question-text">37. What is said about the way Franklin communicates?</div>
                        <div class="options">
                            <label><input type="radio" name="q37" value="A"> A. He expresses a very limited range of
                                ideas.</label>
                            <label><input type="radio" name="q37" value="B"> B. He is only willing to discuss things he
                                is familiar with.</label>
                            <label><input type="radio" name="q37" value="C"> C. He uses words and phrases that he has
                                previously memorised.</label>
                            <label><input type="radio" name="q37" value="D"> D. He is only fluent when talking about
                                naval matters.</label>
                        </div>
                    </div>
                    <div class="question" data-question="38">
                        <div class="question-text">38. How does the attitude of the other sailors change towards
                            Franklin?</div>
                        <div class="options">
                            <label><input type="radio" name="q38" value="A"> A. They no longer notice his
                                slowness.</label>
                            <label><input type="radio" name="q38" value="B"> B. They start to copy his approach to
                                work.</label>
                            <label><input type="radio" name="q38" value="C"> C. They begin to recognise his efforts to
                                overcome his problems.</label>
                            <label><input type="radio" name="q38" value="D"> D. They eventually appreciate his good
                                qualities.</label>
                        </div>
                    </div>
                    <div class="question" data-question="39">
                        <div class="question-text">39. The chapters of The Discovery of Slowness which describe
                            Franklin’s early years contain</div>
                        <div class="options">
                            <label><input type="radio" name="q39" value="A"> A. text from a wide variety of
                                sources.</label>
                            <label><input type="radio" name="q39" value="B"> B. short, disconnected pieces of
                                text.</label>
                            <label><input type="radio" name="q39" value="C"> C. descriptions of the Arctic
                                landscape.</label>
                            <label><input type="radio" name="q39" value="D"> D. information about other explorers like
                                Franklin.</label>
                        </div>
                    </div>
                    <div class="question" data-question="40">
                        <div class="question-text">40. The Discovery of Slowness has achieved widespread popularity
                            because</div>
                        <div class="options">
                            <label><input type="radio" name="q40" value="A"> A. it reflects many people’s concern about
                                one aspect of modern life.</label>
                            <label><input type="radio" name="q40" value="B"> B. it offers achievable solutions to many
                                of the problems of today.</label>
                            <label><input type="radio" name="q40" value="C"> C. it tells the story of someone’s triumph
                                over personal problems.</label>
                            <label><input type="radio" name="q40" value="D"> D. it shows how life in the past was less
                                pressured than it is now.</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="27">27</div>
                    <div class="progress-item" data-question="28">28</div>
                    <div class="progress-item" data-question="29">29</div>
                    <div class="progress-item" data-question="30">30</div>
                    <div class="progress-item" data-question="31">31</div>
                    <div class="progress-item" data-question="32">32</div>
                    <div class="progress-item" data-question="33">33</div>
                    <div class="progress-item" data-question="34">34</div>
                    <div class="progress-item" data-question="35">35</div>
                    <div class="progress-item" data-question="36">36</div>
                    <div class="progress-item" data-question="37">37</div>
                    <div class="progress-item" data-question="38">38</div>
                    <div class="progress-item" data-question="39">39</div>
                    <div class="progress-item" data-question="40">40</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 27-40 (Placeholder)
        const correctAnswers = {
            q27: "C",
            q28: "D",
            q29: "E",
            q30: "H",
            q31: "B",
            q32: "G",
            q33: "K",
            q34: "E",
            q35: "L",
            q36: "D",
            q37: "C",
            q38: "D",
            q39: "B",
            q40: "A"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 27;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes for Passage 3
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.querySelector('.passage-container');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`) || document.querySelector(`select[name="q${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 27;
            nextBtn.disabled = num >= 40;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 27) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 40) scrollToQuestion(currentQuestion + 1);
        });

        // Event listener for marking questions as answered
        document.querySelectorAll('select, input[type="radio"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        const value = input.tagName === 'INPUT' ? input.value : input.value;
                        if (value) {
                            item.classList.add('answered');
                        }
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // Process questions 27-31, 32-35 (dropdowns)
            for (let i = 27; i <= 35; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (selectEl && selectEl.value !== '') {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            // Process questions 36-40 (radio buttons)
            for (let i = 36; i <= 40; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const checkedRadio = document.querySelector(`input[name="${key}"]:checked`);
                if (checkedRadio) {
                    userAnswer = checkedRadio.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    document.querySelectorAll(`input[name="${key}"]`).forEach(radio => {
                        radio.disabled = true;
                    });
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;
            for (let i = 27; i <= 40; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            // Process questions 27-35 (dropdowns)
            for (let i = 27; i <= 35; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (!selectEl) continue;
                const targetElement = selectEl.parentNode;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }

            // Process questions 36-40 (radio buttons)
            for (let i = 36; i <= 40; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const targetElement = document.querySelector(`[data-question="${i}"] .options`);
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(27);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>