<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>




<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>30:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 3</h2>
                <div class="passage-content" id="passage">
                    <h3>Grimm’s Fairy Tales</h3>
                    <p><strong>A</strong> The Brothers Grimm, Jacob and Wilhelm, named their story collection
                        <em>Children’s and Household Tales</em> and published the first of its seven editions in Germany
                        in 1812. The table of contents reads like an A-list of fairy-tale celebrities: Cinderella,
                        Sleeping Beauty, Snow White, Little Red Riding Hood, Rapunzel, Rumpelstiltskin, Hansel and
                        Gretel, the Frog King. Drawn mostly from oral narratives, the 210 stories in the Grimm’s
                        collection represent an anthology of fairy tales, animal fables, rustic farces, and religious
                        allegories that remain unrivalled to this day.
                    </p>
                    <p><strong>B</strong> Such lasting fame would have shocked the humble Grimms. During their lifetimes
                        the collection sold modestly in Germany, at first only a few hundred copies a year. The early
                        editions were not even aimed at children. The brothers initially refused to consider
                        illustrations, and scholarly footnotes took up almost as much space as the tales themselves.
                        Jacob and Wilhelm viewed themselves as patriotic folklorists, not as entertainers of children.
                        They began their work at a time when Germany had been overrun by the French under Napoleon, who
                        was intent on suppressing local culture. As young, workaholic scholars, single and sharing a
                        cramped flat, the Brothers Grimm undertook the fairy-tale collection with the goal of serving
                        the endangered oral tradition of Germany.</p>
                    <p><strong>C</strong> For much of the 19th century teachers, parents, and religious figures,
                        particularly in the United States, deplored the Grimms’ collection for its raw, uncivilized
                        content. Offended adults objected to the gruesome punishments inflicted on the stories’
                        villains. In the original “Snow White” the evil stepmother is forced to dance in red-hot iron
                        shoes until she falls down dead. Even today some protective parents shy from the Grimms’ tales
                        because of their reputation for violence.</p>
                    <p><strong>D</strong> Despite its sometimes rocky reception, <em>Children’s and Household Tales</em>
                        gradually took root with the public. The brothers had not foreseen that the appearance of their
                        work would coincide with a great flowering of children’s literature in Europe. English
                        publishers led the way, issuing high-quality picture books such as <em>Jack and the
                            Beanstalk</em> and handsome folktale collections, all to satisfy a newly literate audience
                        seeking virtuous material for the nursery. Once the Brothers Grimm sighted this new public, they
                        set about refining and softening their tales, which had originated centuries earlier as earthy
                        peasant fare. In the Grimms’ hands, cruel mothers became nasty stepmothers, unmarried lovers
                        were made chaste, and the incestuous father was recast as the devil.</p>
                    <p><strong>E</strong> In the 20th century the Grimms’ fairy tales have come to rule the bookshelves
                        of children’s bedrooms. The stories read like dreams come true: handsome lads and beautiful
                        damsels, armed with magic, triumph over giants and witches and wild beasts. They outwit mean,
                        selfish adults. Inevitably the boy and girl fall in love and live happily ever after. And
                        parents keep reading because they approve of the finger-wagging lessons inserted into the
                        stories: keep your promises, don’t talk to strangers, work hard, obey your parents. According to
                        the Grimms, the collection served as “a manual of manners”.</p>
                    <p><strong>F</strong> Altogether some 40 persons delivered tales to the Grimms. Many of the
                        storytellers came to the Grimms’ house in Kassel. The brothers particularly welcomed the visits
                        of Dorothea Viehmann, a widow who walked to town to sell produce from her garden. An innkeeper’s
                        daughter, Viehmann had grown up listening to stories from travellers on the road to Frankfurt.
                        Among her treasure was “Aschenputtel” – Cinderella. Marie Hassenpflug was a 20-year-old friend
                        of their sister, Charlotte, from a well-bred, French-speaking family. Marie’s wonderful stories
                        blended motifs from the oral tradition and from Perrault’s influential 1697 book, <em>Tales of
                            My Mother Goose</em>, which contained elaborate versions of “Little Red Riding Hood”, “Snow
                        White”, and “Sleeping Beauty”, among others. Many of these had been adapted from earlier Italian
                        tales.</p>
                    <p><strong>G</strong> Given that the origins of many of the Grimm fairy tales reach throughout
                        Europe and into the Middle East and Orient, the question must be asked: How German are the Grimm
                        tales? Very, says scholar Heinz Rolleke. Love of the underdog, rustic simplicity, creative
                        energy—these are Teutonic traits. The coarse texture of life during medieval times in Germany,
                        when many of the tales entered the oral tradition, also coloured the narratives. Throughout
                        Europe, children were often neglected and abandoned, like Hansel and Gretel. Accused witches
                        were burned at the stake, like the evil mother-in-law in “The Six Swans”. “The cruelty in the
                        stories was not the Grimm’s fantasy”, Rolleke points out. “It reflected the law-and-order system
                        of the old times”.</p>
                    <p><strong>H</strong> The editorial fingerprints left by the Grimms betray the specific values of
                        19th-century Christian, bourgeois German society. But that has not stopped the tales from being
                        embraced by almost every culture and nationality in the world. What accounts for this
                        widespread, enduring popularity? Bernhard Lauer points to the “universal style” of the writing,
                        you have no concrete descriptions of the land, or the clothes, or the forest, or the castles. It
                        makes the stories timeless and placeless. The tales allow us to express “our utopian longings”,
                        says Jack Zipes of the University of Minnesota, whose 1987 translation of the complete fairy
                        tales captures the rustic vigour of the original text. They show a striving for happiness that
                        none of us knows but that we sense is possible. We can identify with the heroes of the tales and
                        become in our mind the masters and mistresses of our own destinies.</p>
                    <p><strong>I</strong> Fairy tales provide a workout for the unconscious, psychoanalysts maintain.
                        Bruno Bettelheim famously promoted the therapeutic value of the Grimms’ stories, calling fairy
                        tales the “great comforters”. By confronting fears and phobias, symbolized by witches, heartless
                        stepmothers, and hungry wolves, children find they can master their anxieties. Bettelheim’s
                        theory continues to be hotly debated. But most young readers aren’t interested in exercising
                        their unconsciousness. The Grimm tales, in fact, please in an infinite number of ways, something
                        about them seems to mirror whatever moods or interests we bring to our reading of them. The
                        flexibility of interpretation suits them for almost any time and any culture.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 27-40</h2>
                <p>You should spend about 20 minutes on Questions 27-40, which are based on Reading Passage 3.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 27-32</div>
                    <p>Do the following statements agree with the information given in Reading Passage 3?<br>
                        In boxes 1–6 on your answer sheet, write<br>
                        <strong>YES</strong> if the statement is true<br>
                        <strong>NO</strong> if the statement is false<br>
                        <strong>NOT GIVEN</strong> if the information is not given in the passage
                    </p>

                    <div class="question" data-question="1">
                        <div class="question-text">27. The Grimm brothers believed they would achieve international
                            fame.
                        </div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q1" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q1" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q1" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="2">
                        <div class="question-text">28. The Grimm brothers were forced to work in secret.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q2" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q2" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q2" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="3">
                        <div class="question-text">29. Some parents today still think Grimm fairy tales are not suitable
                            for children.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q3" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q3" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q3" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="4">
                        <div class="question-text">30. The first edition of Grimm’s fairy tales sold more widely in
                            England than in Germany.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q4" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q4" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q4" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="5">
                        <div class="question-text">31. Adults like reading Grimm’s fairy tales for reasons different
                            from
                            those of children.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q5" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q5" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q5" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>

                    <div class="question" data-question="6">
                        <div class="question-text">32. The Grimm brothers based the story “Cinderella” on the life of
                            Dorothea Viehmann.</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q6" value="YES">YES</label>
                            <label class="option"><input type="radio" name="q6" value="NO">NO</label>
                            <label class="option"><input type="radio" name="q6" value="NOT GIVEN">NOT GIVEN</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 33-35</div>
                    <p>Choose the correct letter, A, B, C, or D.<br>
                        Write the correct letter in boxes 33-35 on your answer sheet.</p>

                    <div class="question" data-question="7">
                        <div class="question-text">33. In paragraph 4, what changes happened at that time in Europe?
                        </div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q7" value="A">A. Literacy levels of the
                                population increased.</label>
                            <label class="option"><input type="radio" name="q7" value="B">B. The development of printing
                                technology made it easier to publish.</label>
                            <label class="option"><input type="radio" name="q7" value="C">C. Schools were open to
                                children.</label>
                            <label class="option"><input type="radio" name="q7" value="D">D. People were fond of
                                collecting superb picture books.</label>
                        </div>
                    </div>

                    <div class="question" data-question="8">
                        <div class="question-text">34. What changes did the Grimm Brothers make in later editions?</div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q8" value="A">A. They made the stories
                                shorter.</label>
                            <label class="option"><input type="radio" name="q8" value="B">B. They used more oral
                                language.</label>
                            <label class="option"><input type="radio" name="q8" value="C">C. The content of the tales
                                became less violent.</label>
                            <label class="option"><input type="radio" name="q8" value="D">D. They found other origins of
                                the tales.</label>
                        </div>
                    </div>

                    <div class="question" data-question="9">
                        <div class="question-text">35. What did Marie Hassenpflug contribute to the Grimm’s Fairy tales?
                        </div>
                        <div class="options">
                            <label class="option"><input type="radio" name="q9" value="A">A. She wrote stories.</label>
                            <label class="option"><input type="radio" name="q9" value="B">B. She discussed the stories
                                with them.</label>
                            <label class="option"><input type="radio" name="q9" value="C">C. She translated a popular
                                book for the brothers using her talent for languages.</label>
                            <label class="option"><input type="radio" name="q9" value="D">D. She told the oral stories
                                that were based on traditional Italian stories.</label>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 36-40</div>
                    <p>Write the correct letter, A-H, in boxes 36-40 on your answer sheet.</p>

                    <div class="question" data-question="10">
                        <div class="question-text">36. Heinz Rolleke said the Grimm’s tales are “German” because the
                            tales</div>
                        <div class="options">
                            <select name="q10" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A. reflect what life was like at that time</option>
                                <option value="B">B. help children deal with their problems</option>
                                <option value="C">C. demonstrate the outdated system</option>
                                <option value="D">D. tell of the simplicity of life in the German countryside</option>
                                <option value="E">E. encourage people to believe that they can do anything</option>
                                <option value="F">F. recognize the heroes in the real life</option>
                                <option value="G">G. contribute to the belief in nature power</option>
                                <option value="H">H. avoid details about characters’ social settings</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="11">
                        <div class="question-text">37. Heinz Rolleke said the abandoned children in tales</div>
                        <div class="options">
                            <select name="q11" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A. reflect what life was like at that time</option>
                                <option value="B">B. help children deal with their problems</option>
                                <option value="C">C. demonstrate the outdated system</option>
                                <option value="D">D. tell of the simplicity of life in the German countryside</option>
                                <option value="E">E. encourage people to believe that they can do anything</option>
                                <option value="F">F. recognize the heroes in the real life</option>
                                <option value="G">G. contribute to the belief in nature power</option>
                                <option value="H">H. avoid details about characters’ social settings</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="12">
                        <div class="question-text">38. Bernhard Lauer said the writing style of the Grimm brothers is
                            universal because they</div>
                        <div class="options">
                            <select name="q12" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A. reflect what life was like at that time</option>
                                <option value="B">B. help children deal with their problems</option>
                                <option value="C">C. demonstrate the outdated system</option>
                                <option value="D">D. tell of the simplicity of life in the German countryside</option>
                                <option value="E">E. encourage people to believe that they can do anything</option>
                                <option value="F">F. recognize the heroes in the real life</option>
                                <option value="G">G. contribute to the belief in nature power</option>
                                <option value="H">H. avoid details about characters’ social settings</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="13">
                        <div class="question-text">39. Jack Zipes said the pursuit of happiness in the tales means they
                        </div>
                        <div class="options">
                            <select name="q13" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A. reflect what life was like at that time</option>
                                <option value="B">B. help children deal with their problems</option>
                                <option value="C">C. demonstrate the outdated system</option>
                                <option value="D">D. tell of the simplicity of life in the German countryside</option>
                                <option value="E">E. encourage people to believe that they can do anything</option>
                                <option value="F">F. recognize the heroes in the real life</option>
                                <option value="G">G. contribute to the belief in nature power</option>
                                <option value="H">H. avoid details about characters’ social settings</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="14">
                        <div class="question-text">40. Bruno Bettelheim said the therapeutic value of the tales means
                            that the fairy tales</div>
                        <div class="options">
                            <select name="q14" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A. reflect what life was like at that time</option>
                                <option value="B">B. help children deal with their problems</option>
                                <option value="C">C. demonstrate the outdated system</option>
                                <option value="D">D. tell of the simplicity of life in the German countryside</option>
                                <option value="E">E. encourage people to believe that they can do anything</option>
                                <option value="F">F. recognize the heroes in the real life</option>
                                <option value="G">G. contribute to the belief in nature power</option>
                                <option value="H">H. avoid details about characters’ social settings</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="1">1</div>
                    <div class="progress-item" data-question="2">2</div>
                    <div class="progress-item" data-question="3">3</div>
                    <div class="progress-item" data-question="4">4</div>
                    <div class="progress-item" data-question="5">5</div>
                    <div class="progress-item" data-question="6">6</div>
                    <div class="progress-item" data-question="7">7</div>
                    <div class="progress-item" data-question="8">8</div>
                    <div class="progress-item" data-question="9">9</div>
                    <div class="progress-item" data-question="10">10</div>
                    <div class="progress-item" data-question="11">11</div>
                    <div class="progress-item" data-question="12">12</div>
                    <div class="progress-item" data-question="13">13</div>
                    <div class="progress-item" data-question="14">14</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/14</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 3:</span>
                    <span id="passage3-score">0/14</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 1-14
        const correctAnswers = {
            q1: "NO",
            q2: "NOT GIVEN",
            q3: "YES",
            q4: "NOT GIVEN",
            q5: "YES",
            q6: "NO",
            q7: "A",
            q8: "C",
            q9: "D",
            q10: "D",
            q11: "A",
            q12: "H",
            q13: "E",
            q14: "B"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 1;
        let isResizing = false;
        let seconds = 30 * 60; // 20 minutes
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage3Score = document.getElementById('passage3-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 1;
            nextBtn.disabled = num >= 14;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 1) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 14) scrollToQuestion(currentQuestion + 1);
        });

        document.querySelectorAll('input[type="radio"], select').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};
            for (let i = 1; i <= 14; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const radioEl = document.querySelector(`input[name="${key}"]:checked`);
                if (radioEl) {
                    userAnswer = radioEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    document.querySelectorAll(`input[name="${key}"]`).forEach(r => r.disabled = true);
                }
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (selectEl) {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }
            scoreDisplay.textContent = `${score}/14`;
            passage3Score.textContent = `${score}/14`;
            for (let i = 1; i <= 14; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());
            for (let i = 1; i <= 14; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                let targetElement;
                const radioGroup = document.querySelector(`input[name="${key}"]`);
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (radioGroup) targetElement = radioGroup.closest('.question');
                else if (selectEl) targetElement = selectEl.parentNode;
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(1);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>