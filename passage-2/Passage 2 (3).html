<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>


<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 2</h2>
                <div class="passage-content" id="passage">
                    <h3>The Evolutionary Mystery: Crocodile Survives</h3>
                    <p><strong>A</strong><br>Even though crocodiles have existed for 200 million years, they’re anything
                        but primitive. As crocodiles’ ancestors, crocodilia came to adapt to an aquatic lifestyle. When
                        most of the other contemporary reptiles went extinct, crocodiles were able to make it because
                        their bodies changed and they adapted better to the climate. They witnessed the rise and fall of
                        the dinosaurs, which once ruled the planet, and even the 65 million years of alleged mammalian
                        dominance didn’t wipe them off. Nowadays, the crocodiles and alligators are not that different
                        from their prehistoric ancestors, which proves that they were (and still are) incredibly
                        adaptive.</p>
                    <p><strong>B</strong><br>The first crocodile-like ancestors came into existence approximately 230
                        million years ago, and they had many of the features which make crocodiles natural and perfect
                        stealth hunters: streamlined body, long tail, protective armour and long jaws. They are born
                        with four short, webbed legs, but this does not mean that their capacity to move on the ground
                        shall ever be underestimated. When they move, they are so fast that you won’t even have any
                        chance to try making the same mistake again by getting too close, especially when they’re
                        hunting.</p>
                    <p><strong>C</strong><br>Like other reptiles, crocodiles are poikilothermal animals (commonly known
                        as cold-blooded, whose body temperature changes with that of the surroundings) and consequently,
                        require exposure to sunlight regularly to raise body temperature. When it is too hot, they would
                        rather stay in water or shade. Compared with mammals and birds, crocodiles have a slower
                        metabolism, which makes them less vulnerable to food shortage. In the most extreme case, a
                        crocodile can slow its metabolism down even further, to the point that it would survive without
                        food for a whole year, enabling them to outlive mammals in relatively volatile environments.</p>
                    <p><strong>D</strong><br>Crocodiles have a highly efficient way to prey-catching. The prey rarely
                        realises there might be a crocodile under the water because the crocodile makes a move without
                        any noise or great vibration when spotting its prey. It only keeps its eyes above the water
                        level. As soon as it feels close enough to the victim, it jerks out of the water with its wide
                        open jaws. Crocodiles are successful because they are capable of switching feeding methods. It
                        chases after fish and snatches birds at the water surface, hides in the waterside bushes in
                        anticipation of a gazelle, and when the chance to ambush presents itself, the crocodile dashes
                        forward, knocks the animal out with its powerful tail and then drags the prey into the water to
                        drown.</p>
                    <p><strong>E</strong><br>In many crocodilian habitats, the hot season brings drought that dries up
                        their hunting grounds, leaving it harder for them to regulate body temperatures. This actually
                        allowed reptiles to rule. For instance, many crocodiles can protect themselves by digging holes
                        and covering themselves in mud, waiting for months without consuming any food or water until the
                        rains finally return. They transform into a quiescent state called aestivation.</p>
                    <p><strong>F</strong><br>The majority of crocodilian is considered to go into aestivation during the
                        dry season. In a six-year study by Kennett and Christian, the King Crocodiles, a species of
                        Australian freshwater crocodiles, spent nearly four months a year underground without access to
                        water resources. Doubly labeled water was applied to detect field metabolic rates and water
                        flux, and during some years, plasma fluid samples were taken once a month to keep track of the
                        effects of aestivation regarding the accumulation of nitrogenous wastes and electrolyte
                        concentrations.</p>
                    <p><strong>G</strong><br>The study discovered that the crocodiles’ metabolic engines function
                        slowly, creating waste and exhausting water and fat reserves. Waste is stored in the urine,
                        becoming more and more concentrated. Nevertheless, the concentration of waste products in blood
                        doesn’t fluctuate much, allowing the crocodiles to carry on their normal functions. Besides,
                        even though the crocodiles lost water reserves and body weight when underground, the losses were
                        proportional; upon emerging, the aestivating animals had no dehydration and displayed no other
                        harmful effects such as a slowed-down growth rate. The two researchers reckon that this capacity
                        of crocodiles to get themselves through the harsh times and the long starvation periods is sure
                        to be the answer to the crocodilian line’s survival throughout history.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 15-27</h2>
                <p>You should spend about 20 minutes on Questions 15–27, which are based on Reading Passage 2.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 15-21</div>
                    <p>Reading Passage 2 has seven paragraphs, A-G.<br>
                        Choose the correct heading for each paragraph from the list of headings below.<br>
                        Write the correct number, i-xi, in boxes 15-21 on your answer sheet.</p>
                    <p><strong>List of Headings</strong></p>
                    <p>i The favourable feature in the impact of a drought<br>
                        ii A unique finding that was recently achieved<br>
                        iii Slow metabolism which makes crocodile a unique reptile<br>
                        iv The perfectly designed body for a great land roamer<br>
                        v Shifting eating habits and food intake<br>
                        vi A project on a special mechanism<br>
                        vii Regulating body temperature by the surrounding environment<br>
                        viii Underwater aid in body structure offered to a successful predator<br>
                        ix A historical story for the supreme survivors<br>
                        x What makes the crocodile the fastest running animal on land<br>
                        xi The competition between the crocodiles and other animals</p>
                    <div class="question" data-question="15">
                        <div class="question-text">15. Paragraph A</div>
                        <select name="q15" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="16">
                        <div class="question-text">16. Paragraph B</div>
                        <select name="q16" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="17">
                        <div class="question-text">17. Paragraph C</div>
                        <select name="q17" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="18">
                        <div class="question-text">18. Paragraph D</div>
                        <select name="q18" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="19">
                        <div class="question-text">19. Paragraph E</div>
                        <select name="q19" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="20">
                        <div class="question-text">20. Paragraph F</div>
                        <select name="q20" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                    <div class="question" data-question="21">
                        <div class="question-text">21. Paragraph G</div>
                        <select name="q21" class="summary-select">
                            <option value="">Select</option>
                            <option value="i">i</option>
                            <option value="ii">ii</option>
                            <option value="iii">iii</option>
                            <option value="iv">iv</option>
                            <option value="v">v</option>
                            <option value="vi">vi</option>
                            <option value="vii">vii</option>
                            <option value="viii">viii</option>
                            <option value="ix">ix</option>
                            <option value="x">x</option>
                            <option value="xi">xi</option>
                        </select>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 22-27</div>
                    <p>Complete the summary below.<br>
                        Choose NO MORE THAN TWO WORDS from the passage for each answer.<br>
                        Write your answers in boxes 22-27 on your answer sheet.</p>
                    <p><strong>Aestivation</strong></p>
                    <p><span class="question" data-question="22">In many places inhabited by crocodilians, most types of
                            crocodiles have evolved a successful scheme to survive in the drought brought by a <input
                                type="text" name="q22" class="summary-input" maxlength="30">.</span></p>
                    <p><span class="question" data-question="23">According to Kennett and Christian’s six-year study of
                            Australian freshwater crocodiles’ aestivation, they found estivating crocodiles spent around
                            <input type="text" name="q23" class="summary-input" maxlength="30"> of the year and had no
                            access to</span> <span class="question" data-question="24"><input type="text" name="q24"
                                class="summary-input" maxlength="30">.</span></p>
                    <p><span class="question" data-question="25">The amount of water in the body declined
                            proportionately with <input type="text" name="q25" class="summary-input" maxlength="30">
                            thus there is no sign of</span> <span class="question" data-question="26"><input type="text"
                                name="q26" class="summary-input" maxlength="30"> and other health-damaging impact on the
                            crocodiles even after an aestivation period.</span></p>
                    <p><span class="question" data-question="27">This super capacity helps crocodiles endure the tough
                            drought without slowing their speed of <input type="text" name="q27" class="summary-input"
                                maxlength="30">.</span></p>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="15">15</div>
                    <div class="progress-item" data-question="16">16</div>
                    <div class="progress-item" data-question="17">17</div>
                    <div class="progress-item" data-question="18">18</div>
                    <div class="progress-item" data-question="19">19</div>
                    <div class="progress-item" data-question="20">20</div>
                    <div class="progress-item" data-question="21">21</div>
                    <div class="progress-item" data-question="22">22</div>
                    <div class="progress-item" data-question="23">23</div>
                    <div class="progress-item" data-question="24">24</div>
                    <div class="progress-item" data-question="25">25</div>
                    <div class="progress-item" data-question="26">26</div>
                    <div class="progress-item" data-question="27">27</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/13</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 2:</span>
                    <span id="passage2-score">0/13</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 15-27
        const correctAnswers = {
            q15: "ix",
            q16: "iv",
            q17: "iii",
            q18: "v",
            q19: "i",
            q20: "vi",
            q21: "ii",
            q22: ["hot season", "dry season"],
            q23: "four months",
            q24: "water resources",
            q25: "body weight",
            q26: "dehydration",
            q27: "growth"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 15;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage2Score = document.getElementById('passage2-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 15;
            nextBtn.disabled = num >= 27;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 15) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 27) scrollToQuestion(currentQuestion + 1);
        });

        document.querySelectorAll('input[type="text"], select').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};
            for (let i = 15; i <= 27; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const textEl = document.querySelector(`input[name="${key}"][type="text"]`);
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (textEl) {
                    userAnswer = textEl.value.trim();
                    const correctAnswer = Array.isArray(correctAnswers[key]) ? correctAnswers[key] : [correctAnswers[key]];
                    isCorrect = correctAnswer.some(answer => userAnswer.toLowerCase() === answer.toLowerCase());
                    console.log(`Question ${key}: User Answer = "${userAnswer}", Correct Answer = "${correctAnswer.join(' or ')}", Is Correct = ${isCorrect}`);
                    textEl.disabled = true;
                } else if (selectEl) {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: Array.isArray(correctAnswers[key]) ? correctAnswers[key].join(' or ') : correctAnswers[key], isCorrect };
            }
            scoreDisplay.textContent = `${score}/13`;
            passage2Score.textContent = `${score}/13`;
            for (let i = 15; i <= 27; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());
            for (let i = 15; i <= 27; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) {
                    console.error(`No result found for question ${key}`);
                    continue;
                }
                let targetElement;
                const textEl = document.querySelector(`input[name="${key}"][type="text"]`);
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (textEl) {
                    targetElement = textEl.closest('.question');
                } else if (selectEl) {
                    targetElement = selectEl.closest('.question');
                }
                if (!targetElement) {
                    console.error(`No question container found for ${key}`);
                    continue;
                }
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                try {
                    targetElement.appendChild(div);
                } catch (e) {
                    console.error(`Error appending indicator for question ${key}: ${e.message}`);
                }
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(15);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>

    <style>
        .summary-input,
        .summary-select {
            width: 200px;
            padding: 5px;
            margin: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            vertical-align: middle;
        }

        .summary-input:disabled,
        .summary-select:disabled {
            background-color: #f0f0f0;
            cursor: not-allowed;
        }

        .options label {
            display: block;
            margin: 5px 0;
        }

        .answer-indicator {
            display: block;
            margin: 10px 0;
            padding: 8px;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.5;
            z-index: 1000;
        }

        .answer-indicator.correct {
            background-color: #d4edda;
            color: #155724;
        }

        .answer-indicator.incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        .question {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</body>

</html>