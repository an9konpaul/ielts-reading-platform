<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 6px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>


<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 2</h2>
                <div class="passage-content" id="passage2">
                    <h3>The Importance of Law</h3>
                    <p><strong>A</strong><br>
                        The law influences all of us virtually all the time, it governs almost all aspects of our
                        behavior, and even what happens to us when we are no longer alive. It affects us from the embryo
                        onwards. It governs the air we breathe, the food and drink we consume, our travel, family
                        relationships, and our property. It applies at the bottom of the ocean and in space. Each time
                        we examine a label on a food product, engage in work as an employee or employer, travel on the
                        roads, go to school to learn or to teach, stay in a hotel, borrow a library book, create or
                        dissolve a commercial company, play sports, or engage the services of someone for anything from
                        plumbing a sink to planning a city, we are in the world of law.</p>
                    <p><strong>B</strong><br>
                        Law has also become much more widely recognised as the standard by which behavior needs to be
                        judged. A very telling development in recent history is the way in which the idea of law has
                        permeated all parts of social life. The universal standard of whether something is socially
                        tolerated is progressively becoming whether it is legal, rather than something that has always
                        been considered acceptable. In earlier times, most people were illiterate. Today, by contrast, a
                        vast number of people can read, and it is becoming easier for people to take an interest in law,
                        and for the general population to help actually shape the law in many countries. However, law is
                        a versatile instrument that can be used equally well for the improvement or the degradation of
                        humanity.</p>
                    <p><strong>C</strong><br>
                        This, of course, puts law in a very significant position. In our rapidly developing world, all
                        sorts of skills and knowledge are valuable. Those people, for example, with knowledge of
                        computers, the internet, and communications technology are relied upon by the rest of us. There
                        is now someone with IT skills or an IT help desk in every UK school, every company, every
                        hospital, every local and central government office. Without their knowledge, many parts of
                        commercial and social life today would seize up in minutes. But legal understanding is just as
                        vital and as universally needed. The American comedian Jerry Seinfeld put it like this, 'We are
                        all throwing the dice, playing the game, moving our pieces around the board, but if there is a
                        problem, the lawyer is the only person who has read the inside of the top of the box.' In other
                        words, the lawyer is the only person who has read and made sense of the rules.</p>
                    <p><strong>D</strong><br>
                        The number of laws has never been greater. In the UK alone, about 35 new Acts of Parliament are
                        produced every year, thereby delivering thousands of new rules. The legislative output of the
                        British Parliament has more than doubled in recent times from 1,100 pages a year in the early
                        1970s, to over 2,500 pages a year today. Between 1997 and 2006, the legislature passed 365 Acts
                        of Parliament and more than 32,000 legally binding statutory instruments. In a system with so
                        much law, lawyers do a great deal not just to vindicate the rights of citizens and organizations
                        but also to help develop the law through legal arguments, some of which are adapted by judges to
                        become laws. Law courts can and do produce new law and revise old law, but they do so having
                        heard the arguments of lawyers.</p>
                    <p><strong>E</strong><br>
                        However, despite their important role in developing the rules, lawyers are not universally
                        admired. Anti-lawyer jokes have a long history going back to the ancient Greeks. More recently
                        the son of a famous Hollywood actor was asked at his junior school what his father did for a
                        living, to which he replied, 'My daddy is a movie actor, and sometimes he plays the good guy,
                        and sometimes he plays the lawyer.' For balance, though, it is worth remembering that there are
                        and have been many heroic and revered lawyers such as the Roman philosopher and politician
                        Cicero and Mahatma Gandhi, the Indian campaigner for independence.</p>
                    <p><strong>F</strong><br>
                        People sometimes make comments that characterise lawyers as professionals whose concerns put
                        personal reward above truth, or who gain financially from misfortune. There are undoubtedly
                        lawyers that would fit that bill, just as there are some scientists, journalists and others in
                        that category. But, in general, it is no more just to say that lawyers are bad because they make
                        a living from people's problems than it is to make the same accusation in respect of nurses or
                        IT consultants. A great many lawyers are involved in public law work, such as that involving
                        civil liberties, housing and other issues. Such work is not lavishly remunerated and the quality
                        of the service provided by these lawyers relies on considerable professional dedication.
                        Moreover, much legal work has nothing to do with conflict or misfortune, but is primarily
                        concerned with drafting documents. Another source of social disaffection for lawyers, and
                        disaffection for the law, is a limited public understanding of how law works and how it could be
                        changed. Greater clarity about these issues, maybe as a result of better public relations, would
                        reduce many aspects of public dissatisfaction with the law.</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 1-13</h2>
                <p>You should spend about 20 minutes on Questions 1–13, which are based on Reading Passage 2.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 1-6</div>
                    <p>Reading Passage 2 has six paragraphs, <strong>A–F</strong>.<br>
                        Choose the correct heading for each paragraph from the list of headings below.<br>
                        Write the correct number, <strong>i–viii</strong>, in boxes <strong>1–6</strong> on your answer
                        sheet.</p>
                    <p><strong>List of Headings</strong></p>
                    <p>i. Different areas of professional expertise<br>
                        ii. Reasons why it is unfair to criticise lawyers<br>
                        iii. The disadvantages of the legal system<br>
                        iv. The law applies throughout our lives<br>
                        v. The law has affected historical events<br>
                        vi. A negative regard for lawyers<br>
                        vii. Public's increasing ability to influence the law<br>
                        viii. Growth in laws</p>
                    <div class="question" data-question="1">
                        <div class="question-text">Paragraph A <select name="q1" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                    <div class="question" data-question="2">
                        <div class="question-text">Paragraph B <select name="q2" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                    <div class="question" data-question="3">
                        <div class="question-text">Paragraph C <select name="q3" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                    <div class="question" data-question="4">
                        <div class="question-text">Paragraph D <select name="q4" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                    <div class="question" data-question="5">
                        <div class="question-text">Paragraph E <select name="q5" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                    <div class="question" data-question="6">
                        <div class="question-text">Paragraph F <select name="q6" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                            </select></div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 7-8</div>
                    <p>Choose <strong>TWO</strong> letters, <strong>A–E</strong>.<br>
                        Write the correct letters in boxes <strong>7 and 8</strong> on your answer sheet.<br>
                        Which <strong>TWO</strong> of the following statements does the writer make about legal skills
                        in today's world?</p>
                    <div class="question" data-question="7">
                        <div class="options">
                            <label><input type="checkbox" name="q7" value="A"> A. There should be a person with legal
                                training in every hospital.</label>
                            <label><input type="checkbox" name="q7" value="B"> B. Lawyers with experience in commercial
                                law are the most in demand.</label>
                            <label><input type="checkbox" name="q7" value="C"> C. Knowledge of the law is as important
                                as having computer skills.</label>
                            <label><input type="checkbox" name="q7" value="D"> D. Society could not function effectively
                                without legal experts.</label>
                            <label><input type="checkbox" name="q7" value="E"> E. Schools should teach students about
                                the law.</label>
                        </div>
                    </div>
                    <p><em>Note: Select exactly two options for questions 7 and 8.</em></p>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 9-13</div>
                    <p>Complete the summary below.<br>
                        Choose <strong>ONE WORD ONLY</strong> from the passage for each answer.<br>
                        Write your answers in boxes <strong>9–13</strong> on your answer sheet.</p>
                    <div class="question" data-question="9">
                        <div class="question-text">People sometimes say that <input type="text" name="q9"
                                class="summary-input" maxlength="20"> is of little interest to lawyers, who are more
                            concerned with making money.</div>
                    </div>
                    <div class="question" data-question="10">
                        <div class="question-text">This may well be the case with some individuals, in the same way that
                            some <input type="text" name="q10" class="summary-input" maxlength="20"> or scientific
                            experts may also be driven purely by financial greed.</div>
                    </div>
                    <div class="question" data-question="11">
                        <div class="question-text">However, criticising lawyers because their work is concerned with
                            people's problems would be similar to attacking IT staff or <input type="text" name="q11"
                                class="summary-input" maxlength="20"> for the same reason.</div>
                    </div>
                    <div class="question" data-question="12">
                        <div class="question-text">In fact, many lawyers focus on questions relating, for example, to
                            housing or civil liberties, which requires them to have <input type="text" name="q12"
                                class="summary-input" maxlength="20"> to their work.</div>
                    </div>
                    <div class="question" data-question="13">
                        <div class="question-text">What's more, a lot of lawyers' time is spent writing <input
                                type="text" name="q13" class="summary-input" maxlength="20"> rather than dealing with
                            people's misfortunes.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="1">1</div>
                    <div class="progress-item" data-question="2">2</div>
                    <div class="progress-item" data-question="3">3</div>
                    <div class="progress-item" data-question="4">4</div>
                    <div class="progress-item" data-question="5">5</div>
                    <div class="progress-item" data-question="6">6</div>
                    <div class="progress-item" data-question="7">7</div>
                    <div class="progress-item" data-question="8">8</div>
                    <div class="progress-item" data-question="9">9</div>
                    <div class="progress-item" data-question="10">10</div>
                    <div class="progress-item" data-question="11">11</div>
                    <div class="progress-item" data-question="12">12</div>
                    <div class="progress-item" data-question="13">13</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/13</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 2:</span>
                    <span id="passage2-score">0/13</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 1-13
        const correctAnswers = {
            q1: "iv",
            q2: "vii",
            q3: "i",
            q4: "viii",
            q5: "vi",
            q6: "ii",
            q7: ["C", "D"],
            q8: ["C", "D"],
            q9: "truth",
            q10: "journalists",
            q11: "nurses",
            q12: "dedication",
            q13: "documents"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 1;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes for one passage
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.querySelector('.passage-container');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage2Score = document.getElementById('passage2-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Enforce exactly two selections for questions 7 and 8
        const checkboxes = document.querySelectorAll('input[name="q7"]');
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                if (submitted) return;
                const checked = document.querySelectorAll('input[name="q7"]:checked');
                if (checked.length > 2) {
                    checkbox.checked = false;
                    alert('Please select exactly two options for questions 7 and 8.');
                }
                const item7 = document.querySelector('.progress-item[data-question="7"]');
                const item8 = document.querySelector('.progress-item[data-question="8"]');
                if (checked.length === 2 && !item7.classList.contains('answered')) {
                    item7.classList.add('answered');
                    item8.classList.add('answered');
                } else if (checked.length < 2) {
                    item7.classList.remove('answered');
                    item8.classList.remove('answered');
                }
            });
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`) || document.querySelector(`input[name="q${num}"]`)?.parentNode || document.querySelector(`select[name="q${num}"]`)?.parentNode;
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 1;
            nextBtn.disabled = num >= 13;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 1) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 13) scrollToQuestion(currentQuestion + 1);
        });

        // Event listener for marking questions as answered (dropdowns and text inputs)
        document.querySelectorAll('select, input[type="text"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    if (qNum >= 1 && qNum <= 13) {
                        const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                        if (item && !item.classList.contains('answered')) {
                            const value = input.value.trim();
                            if (value) {
                                item.classList.add('answered');
                            }
                        }
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // Process questions 1-6 (dropdowns)
            for (let i = 1; i <= 6; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (selectEl && selectEl.value && selectEl.value !== '') {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            // Process questions 7-8 (checkboxes)
            const checkedBoxes = document.querySelectorAll('input[name="q7"]:checked');
            let userAnswers7_8 = Array.from(checkedBoxes).map(cb => cb.value).sort();
            let isCorrect7_8 = false;
            if (userAnswers7_8.length === 2) {
                const correctSorted = correctAnswers.q7.sort();
                isCorrect7_8 = userAnswers7_8[0] === correctSorted[0] && userAnswers7_8[1] === correctSorted[1];
                if (isCorrect7_8) score += 2; // Award 2 points for correct pair
            }
            results.q7 = { userAnswer: userAnswers7_8[0] || '', correct: correctAnswers.q7[0], isCorrect: isCorrect7_8 };
            results.q8 = { userAnswer: userAnswers7_8[1] || '', correct: correctAnswers.q7[1], isCorrect: isCorrect7_8 };
            document.querySelectorAll('input[name="q7"]').forEach(cb => {
                cb.disabled = true;
            });

            // Process questions 9-13 (text inputs)
            for (let i = 9; i <= 13; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const inputEl = document.querySelector(`input[name="${key}"]`);
                if (inputEl && inputEl.value.trim() !== '') {
                    userAnswer = inputEl.value.trim().toLowerCase();
                    isCorrect = userAnswer === correctAnswers[key].toLowerCase();
                    inputEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/13`;
            passage2Score.textContent = `${score}/13`;
            for (let i = 1; i <= 13; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            // Process questions 1-6 (dropdowns)
            for (let i = 1; i <= 6; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (!selectEl) continue;
                const targetElement = selectEl.parentNode;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }

            // Process questions 7-8 (checkboxes)
            const targetElement7_8 = document.querySelector('[data-question="7"] .options');
            if (targetElement7_8) {
                const res7 = window.testResults.q7;
                const res8 = window.testResults.q8;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res7.isCorrect ? 'correct' : 'incorrect');
                div.style.marginTop = '10px';
                if (res7.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res7.userAnswer || 'No answer'}, ${res8.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = [res7.userAnswer, res8.userAnswer].filter(a => a).join(', ') || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${correctAnswers.q7.join(', ')}`;
                }
                targetElement7_8.appendChild(div);
            }

            // Process questions 9-13 (text inputs)
            for (let i = 9; i <= 13; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const inputEl = document.querySelector(`input[name="${key}"]`);
                if (!inputEl) continue;
                const targetElement = inputEl.parentNode;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(1);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>