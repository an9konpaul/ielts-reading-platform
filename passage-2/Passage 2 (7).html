<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
        }

        .loading-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
        }

        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .loading-title {
            font-size: 1.2rem;
            color: #6b7280;
            margin-bottom: 20px;
        }

        .loading-subtitle {
            font-size: 1rem;
            color: #9ca3af;
        }

        .start-screen {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f9fafb;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9998;
        }

        .start-content {
            text-align: center;
        }

        .start-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .start-subtitle {
            color: #6b7280;
            margin-bottom: 24px;
        }

        .start-button {
            padding: 12px 32px;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .start-button:hover {
            background-color: #1d4ed8;
        }

        .hidden {
            display: none !important;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            width: 100vw;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header {
            background-color: #ffffff;
            color: #333;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .passage-info {
            font-size: 0.9rem;
            font-weight: 500;
            color: #2d3748;
        }

        .timer {
            background-color: rgba(255, 193, 193, 0.5);
            padding: 6px 12px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s;
            min-width: 80px;
            text-align: center;
            font-size: 0.9rem;
            color: #c53030;
            border: 1px solid rgba(255, 120, 120, 0.3);
        }

        .timer.warning {
            color: #9b2c2c;
            background-color: rgba(254, 178, 178, 0.7);
            border-color: rgba(245, 101, 101, 0.5);
        }

        .logo-area {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 123, 255, 0.3);
            cursor: pointer;
        }

        .logo-area:hover {
            background-color: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.4);
        }

        .logo-area i {
            font-size: 1.1rem;
        }

        .progress-container {
            background-color: #f8f9fa;
            padding: 4px 20px;
            z-index: 100;
            flex-shrink: 0;
            border-top: 1px solid #e2e8f0;
        }

        .progress-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .progress-items {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-buttons {
            display: flex;
            gap: 6px;
        }

        .progress-item {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4a5568;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.95rem;
            border: 1px solid #cbd5e0;
        }

        .progress-item.current {
            background-color: #4299e1;
            color: white;
            transform: scale(1.1);
            border-color: #2b6cb0;
        }

        .progress-item.answered {
            background-color: #9ae6b4;
            color: #22543d;
            border-color: #68d391;
        }

        .progress-item.correct {
            background-color: #48bb78;
            color: white;
            border-color: #38a169;
        }

        .progress-item.incorrect {
            background-color: #fed7d7;
            color: #c53030;
            border-color: #feb2b2;
        }

        .progress-item:hover {
            background-color: #cbd5e0;
            transform: scale(1.05);
        }

        .btn {
            padding: 6px 14px;
            border: 1px solid #cbd5e0;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.95rem;
            background-color: #f7fafc;
            color: #4a5568;
        }

        .btn i {
            font-size: 1rem;
        }

        .btn:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-primary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-primary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-secondary {
            background-color: #f7fafc;
            color: #4a5568;
            border: 1px solid #cbd5e0;
        }

        .btn-secondary:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }

        .btn-submit {
            background-color: #48bb78;
            color: white;
            font-weight: 900;
            border: 1px solid #38a169;
        }

        .btn-submit:hover {
            background-color: #38a169;
            border-color: #2f855a;
        }

        .btn-submit:disabled {
            background-color: #9ae6b4;
            color: #718096;
            cursor: not-allowed;
            border: 1px solid #68d391;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        .passage-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
            position: relative;
        }

        .resizer {
            width: 4px;
            background-color: #cbd5e0;
            cursor: col-resize;
            position: relative;
            transition: background-color 0.2s;
        }

        .resizer:hover {
            background-color: #a0aec0;
        }

        .resizer::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 60px;
            background-color: rgba(203, 213, 224, 0.5);
            border-radius: 4px;
            pointer-events: none;
        }

        .questions-container {
            width: 40%;
            padding: 20px;
            overflow-y: auto;
            background-color: white;
            border-left: 1px solid #e2e8f0;
        }

        .passage {
            max-width: 800px;
            margin: 0 auto;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage-content p {
            margin-top: 15px;
            margin-bottom: 20px;
            text-align: justify;
        }

        .passage h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .passage p {
            margin-top: 20px;
            margin-bottom: 25px;
            text-align: justify;
        }

        .question-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e2e8f0;
        }

        .question {
            margin-bottom: 25px;
            padding: 6px;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            background-color: #ffffff;
            transition: box-shadow 0.2s;
        }

        .question:hover {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 12px;
            color: #2d3748;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .option:hover {
            background-color: #f7fafc;
            border-color: #cbd5e0;
        }

        .option input {
            margin-right: 2px;
            width: 16px;
            height: 16px;
        }

        .input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        .input-field:focus {
            border-color: #4299e1;
            outline: none;
            box-shadow: 0 0 0 2px rgba(66, 153, 225, 0.2);
        }

        select.input-field {
            padding: 8px 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 20%;
            margin-top: 5px;
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        th,
        td {
            border: 1px solid #e2e8f0;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f1f5f9;
            font-weight: 600;
            color: #2d3748;
        }

        .answer-indicator {
            background-color: #e6fffa;
            border: 1px solid #38b2ac;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .answer-indicator.correct {
            background-color: #e6fffa;
            border-color: #38b2ac;
            color: #234e52;
        }

        .answer-indicator.incorrect {
            background-color: #fed7d7;
            border-color: #fc8181;
            color: #742a2a;
        }

        .question-group {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-group-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3748;
            font-size: 1rem;
        }

        .highlight {
            background-color: #ffff00;
            cursor: pointer;
        }

        #highlight-btn,
        #remove-highlight-btn {
            position: absolute;
            z-index: 9999;
            display: none;
            padding: 6px 12px;
            font-size: 14px;
            border: 1px solid #888;
            border-radius: 4px;
            cursor: pointer;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 20px 0;
            color: #2d3748;
        }

        .score-breakdown {
            margin: 20px 0;
            text-align: left;
        }

        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
            font-size: 0.95rem;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }

            .questions-container {
                width: 100%;
                border-left: none;
                border-top: 1px solid #e2e8f0;
            }

            .resizer {
                width: 100%;
                height: 4px;
                cursor: row-resize;
            }

            .resizer::before {
                width: 60px;
                height: 30px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }

            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }

            header {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }

            .logo-area {
                order: 1;
            }

            .passage-info {
                order: 2;
            }

            .timer {
                order: 3;
            }
        }

        @media (max-width: 480px) {
            .progress-item {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }

            .passage-info {
                font-size: 0.9rem;
            }
        }
    </style>
</head>




<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="spinner"></div>
            <h2 class="loading-title">Your test will begin shortly</h2>
            <p class="loading-subtitle">Please wait</p>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen hidden">
        <div class="start-content">
            <h1 class="start-title">IELTSwithJurabek</h1>
            <p class="start-subtitle">Ready to begin your reading test?</p>
            <button class="start-button" onclick="startTest()">Start Test</button>
        </div>
    </div>

    <!-- Test Container -->
    <div class="container hidden" id="testContainer">
        <header>
            <div class="passage-info">IELTSwithJurabek</div>
            <div class="timer">
                <i class="fas fa-clock"></i>
                <span>20:00</span>
            </div>
            <div class="logo-area" onclick="window.open('https://t.me/IELTSwithJurabek', '_blank')">
                <i class="fas fa-paper-plane"></i>
                <span>Click for more TESTS</span>
            </div>
        </header>

        <button id="highlight-btn" type="button">Highlight</button>
        <button id="remove-highlight-btn" type="button">Remove Highlight</button>

        <div class="main-content">
            <!-- Reading Passage -->
            <div class="passage-container" role="region" aria-label="Reading Passage">
                <h2 class="section-title">READING PASSAGE 2</h2>
                <div class="passage-content" id="passage">
                    <h3>A New Look for Talbot Park</h3>
                    <p><strong>A</strong> Talbot Park, a housing project in Auckland, New Zealand, was once described as
                        a ghetto, troubled by high rates of crime and vandalism. However, it has just been rebuilt at a
                        cost of $48m and the project reflects some new thinking about urban design.</p>
                    <p><strong>A</strong> The new Talbot Park is immediately eye-catching because the buildings look
                        quite different to other state housing projects in Auckland. 'There is no reason why state
                        housing should look cheap in my view,' says architect Neil Cotton, one of the design team. 'In
                        fact, I was anticipating a backlash by those who objected to the quality of what is provided
                        with government money.' The tidy brick and wood apartments and townhouses would not look out of
                        place in some of the city's most affluent suburbs and this is a central theme of the Talbot Park
                        philosophy.</p>
                    <p><strong>B</strong> Talbot Park is a triangle of government-owned land, which in the early 1960s
                        was developed for state housing built around a linear garden that ran through the middle.
                        Initially, there was a strong sense of neighbourliness. Former residents recall how the garden
                        played a big part in their childhoods - a place where kids came together to play softball,
                        cricket and bullrush. 'We had respect for our neighbours and addressed them by title - Mr and
                        Mrs so-and-so,' recalls Georgie Thompson, who grew up there in the 1960s.</p>
                    <p><strong>C</strong> Exactly what went wrong with Talbot Park is unclear. The community began to
                        change in the late 1970s as more immigrants moved in. The new arrivals didn't always integrate
                        with the community and a 'them and us' mentality developed. In the process, standards dropped
                        and the neighbourhood began to look shabbier. The buildings themselves were also deteriorating
                        and becoming run down, petty crime was on the rise and the garden was considered unsafe. In
                        2002, Housing New Zealand decided the properties needed upgrading. The question was, how to
                        avoid repeating the mistakes of the past?</p>
                    <p><strong>D</strong> One controversial aspect of the upgrade is that the new development has
                        actually made the density of housing in Talbot Park greater, putting 52 more homes on the same
                        site. Doing this required a fresh approach that can be summed up as 'mix and match'. The first
                        priority was to mix up the housing by employing a variety of plans by different architects: some
                        of the accommodation is free-standing houses, some semi-detached, some low level,
                        multi-apartment blocks. By doing this, the development avoids the uniform appearance of so many
                        state housing projects, which residents complain denies them any sense of individual identity.
                        The next goal was to prevent overspending by using efficient designs to maximise the sense of
                        space from minimum room sizes. There was also a no-frills, industrial approach to kitchens,
                        bathrooms and flooring, to optimise durability and ensure the project did not go over budget.
                        Architecturally, the buildings are relatively conservative: fairly plain houses standing in a
                        small garden. There's a slight reflection of the traditional Pacific beach house (a fale) but
                        it's not overplayed. 'It seems to us that low-cost housing is about getting as much amenity as
                        you can for the money,' says architect Michael Thompson. Another key aspect of the 'mix and
                        match' approach is openness: one that not only lets residents see what is going on but also lets
                        them know they are seen. The plan ensures there are no cul-de-sacs or properties hidden from
                        view, that the gardens are not enclosed by trees and that most boundary fences are see-through -
                        a community contained but without walls.</p>
                    <p><strong>E</strong> The population today is cosmopolitan: 50% Pacific Islanders, 20% Maori, 15%
                        Asian, 10% New Zealand European and the rest composed of immigrants from Russia, Ukraine and
                        Iran. 'It was important that the buildings were sufficiently flexible to cater for the needs of
                        people from a wide variety of cultural backgrounds,' explains designer James Lundy.</p>
                    <p><strong>F</strong> Despite the quality of the buildings, however, there should be no doubt that
                        Talbot Park and its surrounding suburb of Tamaki are low socio-economic areas. Of the 5,000
                        houses there, 55% are state houses, 28% privately owned (compared to about 65% nationally) and
                        17% private rental. The area has a high density of households with incomes in the $5,000 to
                        $15,000 range and very few with an income over $70,000. That's in sharp contrast to the more
                        affluent suburbs in Auckland.</p>
                    <p><strong>G</strong> Another important part of the new development is what Housing New Zealand
                        calls 'intensive tenancy management'. Opponents of the project call it social control. 'The
                        focus is on frequent inspections and setting clear guidelines and boundaries regarding the sort
                        of behaviour we expect from tenants,' says Graham Bodman, Housing New Zealand's regional
                        manager. The result is a code of sometimes strict rules: no loud parties after 10pm, no washing
                        hung over balcony rails and a requirement to mow lawns and keep the property tidy. The Tenancy
                        Manager walks the site every day, knows everyone by name and deals with problems quickly. 'It's
                        all based on the intensification,' says project manager Stuart Bracey. 'We acknowledge that if
                        you are going to ask people to live in these quite tightly-packed communities, you have to
                        actually help them to get to know each other by organising morning teas and street barbecues.'
                        So far it seems to be working and many involved in the project believe Talbot Park represents
                        the way forward for state housing.</p>
                    <p><strong>state housing:</strong> government subsidised accommodation for people who cannot pay
                        market rents</p>
                </div>
            </div>

            <div class="resizer" id="resizer"></div>

            <!-- Questions -->
            <div class="questions-container" id="questions" role="region" aria-label="Questions">
                <h2 class="section-title">Questions 14-26</h2>
                <p>You should spend about 20 minutes on Questions 14-26, which are based on Reading Passage 2.</p>

                <div class="question-group">
                    <div class="question-group-title">Questions 14-20</div>
                    <p>Reading Passage 2 has seven paragraphs, A-G.<br>
                        Choose the correct heading for each paragraph from the list of headings below.<br>
                        Write the correct number, i-x, in boxes 14-20 on your answer sheet.</p>
                    <p><strong>List of Headings</strong><br>
                        i Some of the problems that developed at Talbot Park<br>
                        ii Where the residents lived while the work was being completed<br>
                        iii The ethnic makeup of the new Talbot Park<br>
                        iv The unexpectedly high standard of the housing<br>
                        v Financial hardship in Talbot Park and a neighbouring community<br>
                        vi The experiences of one family living at Talbot Park today<br>
                        vii How to co-ordinate and assist the people who live at Talbot Park<br>
                        viii Raising the money to pay for the makeover<br>
                        ix A close community in the original Talbot Park development<br>
                        x Details of the style of buildings used in the makeover
                    </p>

                    <div class="question" data-question="14">
                        <div class="question-text">14. Paragraph A</div>
                        <div class="options">
                            <select name="q14" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="15">
                        <div class="question-text">15. Paragraph B</div>
                        <div class="options">
                            <select name="q15" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="16">
                        <div class="question-text">16. Paragraph C</div>
                        <div class="options">
                            <select name="q16" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="17">
                        <div class="question-text">17. Paragraph D</div>
                        <div class="options">
                            <select name="q17" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="18">
                        <div class="question-text">18. Paragraph E</div>
                        <div class="options">
                            <select name="q18" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="19">
                        <div class="question-text">19. Paragraph F</div>
                        <div class="options">
                            <select name="q19" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="20">
                        <div class="question-text">20. Paragraph G</div>
                        <div class="options">
                            <select name="q20" class="summary-select">
                                <option value="">Select</option>
                                <option value="i">i</option>
                                <option value="ii">ii</option>
                                <option value="iii">iii</option>
                                <option value="iv">iv</option>
                                <option value="v">v</option>
                                <option value="vi">vi</option>
                                <option value="vii">vii</option>
                                <option value="viii">viii</option>
                                <option value="ix">ix</option>
                                <option value="x">x</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 21-23</div>
                    <p>Look at the following people (Questions 21-23) and the list of ideas below.<br>
                        Match each person with the correct idea, A-F.<br>
                        Write the correct letter, A-F, in boxes 21-23 on your answer sheet.</p>
                    <p><strong>List of Ideas</strong><br>
                        A Good tenant management involves supervision and regulation.<br>
                        B State housing must be built at minimum expense to the public.<br>
                        C Organising social events helps tenants to live close together.<br>
                        D Mixed-race communities require adaptable and responsive designs.<br>
                        E Complaints were expected about the high standard of the development.<br>
                        F Too many rules and regulations will cause resentment from tenants.
                    </p>

                    <div class="question" data-question="21">
                        <div class="question-text">21. James Lundy</div>
                        <div class="options">
                            <select name="q21" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="22">
                        <div class="question-text">22. Graham Bodman</div>
                        <div class="options">
                            <select name="q22" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                            </select>
                        </div>
                    </div>

                    <div class="question" data-question="23">
                        <div class="question-text">23. Stuart Bracey</div>
                        <div class="options">
                            <select name="q23" class="summary-select">
                                <option value="">Select</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="question-group">
                    <div class="question-group-title">Questions 24-26</div>
                    <p>Complete the summary below.<br>
                        Choose <strong>ONE WORD ONLY</strong> from the passage for each answer.<br>
                        Write your answers in boxes 24-26 on your answer sheet.</p>
                    <div class="summary-section">
                        <p><strong>The 'mix and match' strategy</strong><br>
                            One aspect of the Talbot Park project that some critics are concerned about is that the
                            higher
                            <span class="question" data-question="24"><input type="text" name="q24"
                                    class="summary-input" maxlength="30"></span> of accommodation would lead to the old
                            social problems returning. To prevent this, a team of various
                            <span class="question" data-question="25"><input type="text" name="q25"
                                    class="summary-input" maxlength="30"></span> worked on the project to ensure the
                            buildings were not uniform. Further, they created pleasant, functional interiors that could
                            still be built within their
                            <span class="question" data-question="26"><input type="text" name="q26"
                                    class="summary-input" maxlength="30"></span>. Finally, the absence of walls means
                            Talbot Park is characterised by openness, making it easier to regulate behaviour within the
                            community.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-nav">
                <div class="progress-items">
                    <div class="progress-item current" data-question="14">14</div>
                    <div class="progress-item" data-question="15">15</div>
                    <div class="progress-item" data-question="16">16</div>
                    <div class="progress-item" data-question="17">17</div>
                    <div class="progress-item" data-question="18">18</div>
                    <div class="progress-item" data-question="19">19</div>
                    <div class="progress-item" data-question="20">20</div>
                    <div class="progress-item" data-question="21">21</div>
                    <div class="progress-item" data-question="22">22</div>
                    <div class="progress-item" data-question="23">23</div>
                    <div class="progress-item" data-question="24">24</div>
                    <div class="progress-item" data-question="25">25</div>
                    <div class="progress-item" data-question="26">26</div>
                </div>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled><i class="fas fa-arrow-left"></i>
                        Previous</button>
                    <button class="btn btn-secondary" id="next-btn">Next <i class="fas fa-arrow-right"></i></button>
                    <button class="btn btn-submit" id="submit-btn">Submit Test <i
                            class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Test Results</h2>
            <div class="score-display" id="score-display">0/13</div>
            <div class="score-breakdown">
                <div class="score-item">
                    <span>Passage 2:</span>
                    <span id="passage2-score">0/13</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="close-modal">Close</button>
                <button class="btn btn-primary" id="review-answers">Review Answers</button>
            </div>
        </div>
    </div>

    <script>
        // Correct Answers for Questions 14-26
        const correctAnswers = {
            q14: "iv",
            q15: "ix",
            q16: "i",
            q17: "x",
            q18: "iii",
            q19: "v",
            q20: "vii",
            q21: "D",
            q22: "A",
            q23: "C",
            q24: "density",
            q25: "architects",
            q26: "budget"
        };

        let lastSelection = null;
        let highlightTarget = null;
        let currentPanel = null;
        let submitted = false;
        let currentQuestion = 14;
        let isResizing = false;
        let seconds = 20 * 60; // 20 minutes
        let timerInterval;

        const highlightBtn = document.getElementById('highlight-btn');
        const removeHighlightBtn = document.getElementById('remove-highlight-btn');
        const passagePanel = document.getElementById('passage');
        const questionsPanel = document.getElementById('questions');
        const resizer = document.getElementById('resizer');
        const submitBtn = document.getElementById('submit-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultsModal = document.getElementById('results-modal');
        const scoreDisplay = document.getElementById('score-display');
        const passage2Score = document.getElementById('passage2-score');
        const closeModalBtn = document.getElementById('close-modal');
        const reviewBtn = document.getElementById('review-answers');
        const timerElement = document.querySelector('.timer span');
        const timerContainer = document.querySelector('.timer');

        // Timer
        function updateTimer() {
            seconds--;
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            if (seconds <= 2 * 60) {
                timerContainer.classList.add('warning');
            }
            if (seconds <= 0) {
                clearInterval(timerInterval);
                if (!submitted) {
                    alert('Time is up! Submitting your test.');
                    submitTest();
                }
            }
        }

        // Highlight functionality
        function getValidSelection() {
            const sel = window.getSelection();
            if (!sel.rangeCount || sel.isCollapsed) return null;
            const range = sel.getRangeAt(0);
            if (passagePanel.contains(range.commonAncestorContainer)) {
                currentPanel = passagePanel;
            } else if (questionsPanel.contains(range.commonAncestorContainer)) {
                currentPanel = questionsPanel;
            } else {
                return null;
            }
            return range;
        }

        function showHighlightBtn(range) {
            const rect = range.getBoundingClientRect();
            highlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            highlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            highlightBtn.style.display = 'block';
        }

        function hideHighlightBtn() {
            highlightBtn.style.display = 'none';
        }

        function showRemoveBtn(span) {
            const rect = span.getBoundingClientRect();
            removeHighlightBtn.style.top = (window.scrollY + rect.top - 35) + 'px';
            removeHighlightBtn.style.left = (window.scrollX + rect.left) + 'px';
            removeHighlightBtn.style.display = 'block';
            highlightTarget = span;
        }

        function hideRemoveBtn() {
            removeHighlightBtn.style.display = 'none';
            highlightTarget = null;
        }

        highlightBtn.addEventListener('click', () => {
            if (lastSelection) {
                const span = document.createElement('span');
                span.className = 'highlight';
                span.appendChild(lastSelection.extractContents());
                lastSelection.insertNode(span);
                window.getSelection().removeAllRanges();
                hideHighlightBtn();
            }
        });

        removeHighlightBtn.addEventListener('click', () => {
            if (highlightTarget) {
                const parent = highlightTarget.parentNode;
                while (highlightTarget.firstChild) {
                    parent.insertBefore(highlightTarget.firstChild, highlightTarget);
                }
                parent.removeChild(highlightTarget);
                hideRemoveBtn();
            }
        });

        document.addEventListener('selectionchange', () => {
            hideHighlightBtn();
            hideRemoveBtn();
            const range = getValidSelection();
            if (range) {
                lastSelection = range;
                showHighlightBtn(range);
            } else {
                lastSelection = null;
            }
        });

        [passagePanel, questionsPanel].forEach(panel => {
            panel.addEventListener('scroll', () => {
                hideHighlightBtn();
                hideRemoveBtn();
            });
        });

        document.addEventListener('mousedown', (e) => {
            if (e.target !== highlightBtn && e.target !== removeHighlightBtn) {
                hideHighlightBtn();
                hideRemoveBtn();
            }
        });

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('highlight')) {
                e.preventDefault();
                showRemoveBtn(e.target);
            }
        });

        // Resizer
        resizer.addEventListener('mousedown', (e) => {
            isResizing = true;
            document.body.style.cursor = 'col-resize';
            document.body.style.userSelect = 'none';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isResizing) return;
            const container = document.querySelector('.main-content');
            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const containerWidth = containerRect.width;
            const leftPercentage = (mouseX / containerWidth) * 100;
            const rightPercentage = 100 - leftPercentage;
            if (leftPercentage >= 30 && leftPercentage <= 70) {
                document.querySelector('.passage-container').style.flex = leftPercentage + '%';
                document.querySelector('.questions-container').style.width = rightPercentage + '%';
            }
        });

        document.addEventListener('mouseup', () => {
            if (isResizing) {
                isResizing = false;
                document.body.style.cursor = '';
                document.body.style.userSelect = '';
            }
        });

        // Navigation
        function scrollToQuestion(num) {
            const el = document.querySelector(`[data-question="${num}"]`);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            updateCurrentQuestion(num);
        }

        function updateCurrentQuestion(num) {
            currentQuestion = num;
            document.querySelectorAll('.progress-item').forEach(item => {
                item.classList.remove('current');
                if (item.dataset.question == num) item.classList.add('current');
            });
            prevBtn.disabled = num <= 14;
            nextBtn.disabled = num >= 26;
        }

        document.querySelectorAll('.progress-item').forEach(item => {
            item.addEventListener('click', () => {
                scrollToQuestion(parseInt(item.dataset.question));
            });
        });

        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 14) scrollToQuestion(currentQuestion - 1);
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < 26) scrollToQuestion(currentQuestion + 1);
        });

        document.querySelectorAll('select, input[type="text"]').forEach(input => {
            input.addEventListener('change', () => {
                if (submitted) return;
                const qNumMatch = input.name.match(/^q(\d+)$/);
                if (qNumMatch) {
                    const qNum = parseInt(qNumMatch[1]);
                    const item = document.querySelector(`.progress-item[data-question="${qNum}"]`);
                    if (item && !item.classList.contains('answered')) {
                        item.classList.add('answered');
                    }
                }
            });
        });

        submitBtn.addEventListener('click', submitTest);

        function submitTest() {
            if (submitted) return;
            if (!confirm('Are you sure you want to submit?')) return;
            submitted = true;
            clearInterval(timerInterval);
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            let score = 0;
            const results = {};

            // Process questions 14-23 (dropdowns)
            for (let i = 14; i <= 23; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (selectEl && selectEl.value) {
                    userAnswer = selectEl.value;
                    isCorrect = userAnswer === correctAnswers[key];
                    selectEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            // Process questions 24-26 (text inputs)
            for (let i = 24; i <= 26; i++) {
                const key = `q${i}`;
                let userAnswer = '';
                let isCorrect = false;
                const textEl = document.querySelector(`input[name="${key}"]`);
                if (textEl && textEl.value.trim()) {
                    userAnswer = textEl.value.trim().toLowerCase();
                    isCorrect = userAnswer === correctAnswers[key].toLowerCase();
                    textEl.disabled = true;
                }
                if (isCorrect) score++;
                results[key] = { userAnswer, correct: correctAnswers[key], isCorrect };
            }

            scoreDisplay.textContent = `${score}/13`;
            passage2Score.textContent = `${score}/13`;
            for (let i = 14; i <= 26; i++) {
                const item = document.querySelector(`.progress-item[data-question="${i}"]`);
                const res = results[`q${i}`];
                if (item && res) {
                    item.classList.remove('current', 'answered');
                    item.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                }
            }
            window.testResults = results;
            resultsModal.style.display = 'flex';
        }

        function showCorrectAnswers() {
            if (!submitted) return;
            document.querySelectorAll('.answer-indicator').forEach(el => el.remove());

            // Process questions 14-23 (dropdowns)
            for (let i = 14; i <= 23; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const selectEl = document.querySelector(`select[name="${key}"]`);
                if (!selectEl) continue;
                const targetElement = selectEl.closest('.question');
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }

            // Process questions 24-26 (text inputs in summary)
            for (let i = 24; i <= 26; i++) {
                const key = `q${i}`;
                const res = window.testResults[key];
                if (!res) continue;
                const textEl = document.querySelector(`input[name="${key}"]`);
                if (!textEl) continue;
                const targetElement = textEl.parentNode; // The <span> with class="question"
                if (!targetElement) continue;
                const div = document.createElement('div');
                div.className = 'answer-indicator';
                div.classList.add(res.isCorrect ? 'correct' : 'incorrect');
                div.style.display = 'inline-block';
                div.style.marginLeft = '10px';
                if (res.isCorrect) {
                    div.innerHTML = `<i class="fas fa-check"></i> Correct! You chose: <strong>${res.userAnswer || 'No answer'}</strong>`;
                } else {
                    const userDisplay = res.userAnswer || 'No answer';
                    div.innerHTML = `<i class="fas fa-times"></i> Incorrect. You chose: <strong>${userDisplay}</strong><br><strong>Correct:</strong> ${res.correct}`;
                }
                targetElement.appendChild(div);
            }
        }

        closeModalBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
        });

        reviewBtn.addEventListener('click', () => {
            resultsModal.style.display = 'none';
            showCorrectAnswers();
            scrollToQuestion(14);
        });

        function startTest() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('testContainer').classList.remove('hidden');
            timerInterval = setInterval(updateTimer, 1000);
        }

        setTimeout(() => {
            document.getElementById('loadingScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }, 2000);
    </script>
</body>

</html>